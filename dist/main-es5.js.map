{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/core/services/action.service.ts","webpack:///src/app/core/services/auth.service.ts","webpack:///src/app/core/services/sharing.service.ts","webpack:///src/app/modules/home/404/404.component.ts","webpack:///src/app/modules/home/404/404.component.html","webpack:///src/app/modules/home/dashboard/dashboard.component.ts","webpack:///src/app/modules/home/dashboard/dashboard.component.html","webpack:///src/app/modules/home/home.component.ts","webpack:///src/app/modules/home/home.component.html","webpack:///src/app/modules/home/home.guard.ts","webpack:///src/app/modules/home/home.module.ts","webpack:///src/app/modules/home/home.routing.ts","webpack:///src/app/modules/home/indicators/indicators.component.ts","webpack:///src/app/modules/home/indicators/indicators.component.html","webpack:///src/app/modules/home/indicators/indicators.guard.ts","webpack:///src/app/modules/home/settings/settings.component.ts","webpack:///src/app/modules/home/settings/settings.component.html","webpack:///src/app/modules/home/strategies/strategies.component.ts","webpack:///src/app/modules/home/strategies/strategies.component.html","webpack:///src/app/modules/home/vault/vault.component.ts","webpack:///src/app/modules/home/vault/vault.component.html","webpack:///src/app/shared/Utils.ts","webpack:///src/app/shared/alert/alert.component.ts","webpack:///src/app/shared/alert/alert.component.html","webpack:///src/app/shared/alert/alert.service.ts","webpack:///src/app/shared/http-resources/api.interceptor.ts","webpack:///src/app/shared/http-resources/error.interceptor.ts","webpack:///src/app/shared/http-resources/token.interceptor.ts","webpack:///src/app/shared/modal/modal.component.ts","webpack:///src/app/shared/modal/modal.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","redirectTo","pathMatch","loadChildren","m","AuthenticationModule","HomeModule","component","AppRoutingModule","forRoot","imports","AppComponent","title","selector","templateUrl","styleUrls","AppModule","provide","useClass","multi","declarations","providers","bootstrap","ActionService","http","authService","alertService","get","pipe","resp","allPairs","pair","priceBtc","price","pairs","ex","timeframe","limit","payload","post","name","data","size","interval","from","to","skip","orderId","options","headers","body","put","balanceBtc","btc_balance","JSON","parse","success","addMessage","user","value","_btcBalance","_allPairs","_btcPrice","providedIn","AuthService","router","_user","username","password","token","role","isLogged","localStorage","clear","navigate","_token","getItem","setItem","_isLogged","SharingService","notify","notifyObservable$","asObservable","next","NotFoundComponent","DashboardComponent","actionService","cdFref","_vps","sharingService","homeCmp","searchState","details","selectAll","executedTransaction","selectedBox","order","nm","st","loaded","selecteFilter","selectedCoin","minSlide","maxSlide","currentPrices","selectedStrategy","isChecked","multipleType","isPartial","loadActiveStrategy","cssmode","reloadStuff","setInterval","reload","reloaded","parseFloat","$","attr","subscribe","res","hasOwnProperty","carousel","action","i","strNumber","slide","undefined","find","hasClass","removeClass","addClass","calculateTotalTransactions","clearInterval","resetFilter","reloadCheckBox","searchFilter","filterResult","val","result","s","uncheckAll","event","activeStrategies","o","push","order_id","status","coin_pair","length","pairC","index","target","checked","n","Math","floor","p","getDetailsPairs","prevDay","symbol","lastPrice","quoteVolume","error","currentCapital","str","current_status","calculateSelledCapital","capital","sell_price","current_capital","buy_price","isBtcCapital","selectedPairPrice","cp","toFixed","p1","p2","calculateDelta","partial","sellPrice","buyPrice","parseSellPrice","parseBuyPrice","ccS","ccB","transactions","lastTransaction","type","type_transaction","getFloor","order_type","ceil","stopModal","dismiss","cancelModal","transactionsModal","checkMobileData","detailsModal","show","multipleAction","ss","stat","multipleUpdate","closeMultiple","getBtcBalance","clearFilter","multipleCancel","as","closeTransaction","amount","parsedAmount","getActiveStrategy","clonedStrategy","stopData","specificPair","sf","checkPartialOrders","tr","re","getCurrentStatus","state","deleteFromDb","closeCancel","stopStrategy","updateStrategy","closeStop","searchName","searchDate","includes","toUpperCase","date","nameUp","document","on","cumulative_quantity","current_initial_price","fromCoinToBTC","startCapital","realCurrentCapital","btcInitialTotal","btcSelledTotal","calculateCurrentCapital","btcCurrentTotal","Date","getDate","getMonth","getFullYear","getHours","getMinutes","cancelStrategy","HomeComponent","valueChange","isOpen","isLightMode","getBalance","updatedAt","updateBalance","TradingView","widget","autosize","timezone","theme","style","locale","toolbar_bg","enable_publishing","allow_symbol_change","container_id","notifyOther","getAllBalances","walletModal","chartModal","balances","getSeconds","bal","tax","ready","toggleClass","setModeCss","openChart","openWallet","openMenu","closeWallet","closeChart","HomeGuard","createUrlTree","canActivate","children","AuthenticationRoutingModule","forChild","IndicatorsComponent","fb","calendar","candles","strategies","activeList","getList","totalGiri","parsedData","colorScheme","domain","monitoredPairs","projections","filteredProjections","pairToShow","filters","topPerformer","rowToShow","bestLast","laddaBest","perCentStrategy","selectedProjections","color","indicatorForm","group","indicator_cap","required","indicator_n_strat","indicator_price","indicator_satoshi","indicator_pair","indicator_timeframe","indicator_from","indicator_to","getBtcPrice","getPairs","getProjections","setDates","manageTopPerformer","pairToShown","salti","fromProjection","minDates","toProjection","toDay","loadPairs","detectChanges","formValue","setValue","getAllPairs","createWindow","createStrategies","countB","countS","total","getCandleStick","timeBefore","ticks","t","toLocaleString","high","low","close","opens","candlesticks","slice","showCandleSelected","candlesticksShown","num","tempArray","jump","buy","sell","isBuyed","temp","j","calculateBuy","calculateSell","calculateData","d","capitalTaxed","buyTaxed","calculateFees","totalTaxed","tempT","capitalss","inittial","taxedResult","initialCap","finalCap","finalCapTaxed","dateFrom","dateTo","nameF","series","w","setMonth","setDate","year","month","day","aWeekAgo","date1","date2","diffTime","abs","diffTimeT","diffDays","setPairToMonitor","pairM","manageAddModal","cases","array","tot","delta","a","number_strategies","getPairMonitored","narray","Arr","deletePairToMonitor","pairToRemove","manageDeleteModal","addModal","removeModal","f","fr","getFilteredProjections","getProjectionCount","countProjections","count","filterProjections","side","now","today","lastSunday","getDay","fromTop","decodeURIComponent","toTop","bfrom","bto","getTopProjections","top","fromLast","percentage_strategy_number","getLastBestProjections","err","message","pro","getFiltered","filter","jumps","controls","load","loadPrice","getBestLast","setPairs","removePair","IndicatorsGuard","SettingsComponent","newPw","confirmPw","apKey","apSctKey","getInfo","pw","apiKey","apiSecret","api_key","secret_key","updateAccount","getUserInfo","update","StrategiesComponent","alert","datePipe","strategyType","strLength","capitalType","minOrder","orderType","isSegmented","showMsg","strategiesForm","strategy_name","strategy_pairs","strategy_capital","strategy_buy_price","strategy_sell_price","strategy_jumps","strategy_capitalType","strategy_segmented","strategy_orderType","strategy_pairs_size","strategy_direction","strategy_size","step","optionsStr","getSpecificPairs","btcPrice","manageValidators","btcBalance","disabled","availableCapital","reset","setValidators","clearValidators","updateFormStatus","isStrPresent","updateValueAndValidity","checkStrategy","firstCall","pSize","result2","currentPrice","formattedPrice","getAvailableBalance","quantity","transform","setStrategySplitted","setStrategy","pivot","valid","getSpecificBalance","pair_balance","round","n_strategy","parseInt","setStrategiesSplitted","setStrategies","openConfirmModal","checkSizeAltcoin","confirmModal","taxed","strategy_capital_taxed","loadPrices","initializeStrategy","initializeStrategies","VaultComponent","isAccepted","savedData","vaultForm","vault_pair","vault_ex","vault_timeframe","vault_quantity","availablePairs","callMACD","tf","showChart","getMoneyPrice","Object","values","qty","available","btcP","totVal","min","checkedPair","getMACD","macdValue","studies","initial_qty","tmpMoney","updated_qty","increment","stringify","returnMACD","setData","Utils","AlertComponent","currentAlert","getMessage","el","nativeElement","append","setTimeout","AlertService","subject","APIInterceptor","_sanitazer","api","escapeHtml","unsafe","replace","apiReq","clone","url","sanitize","HTML","handle","ErrorInterceptor","request","logout","TokenInterceptor","setHeaders","Authorization","ModalComponent","closed","openedElement","optClass","openItem","myModal","end","modal","backdrop","keyboard","remove","emit","environment","production","local","bootstrapModule","console"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {NotFoundComponent} from './modules/home/404/404.component';\n\n\n\nconst routes: Routes = [\n  { path: '', redirectTo: 'auth', pathMatch: 'full' },\n  {\n    path: 'auth',\n    loadChildren: () => import('./modules/authentication/authentication.module').then(m =>\n      m.AuthenticationModule)\n  },\n  {\n    path: 'home',\n    loadChildren: () => import('./modules/home/home.module').then(m =>\n      m.HomeModule)\n  },\n  {path: '**', component: NotFoundComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.sass']\n})\nexport class AppComponent {\n  title = 'BTCBot';\n}\n","<router-outlet>\n  <div class=\"alert-wrapper alert-z-container\">\n    <div class=\"container\">\n      <alert></alert>\n    </div>\n  </div>\n</router-outlet>\n","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\n\nimport {AppRoutingModule} from './app-routing.module';\nimport {AppComponent} from './app.component';\nimport {HTTP_INTERCEPTORS, HttpClient, HttpClientModule} from '@angular/common/http';\nimport {AuthService} from './core/services/auth.service';\nimport {APIInterceptor} from './shared/http-resources/api.interceptor';\nimport {ErrorInterceptor} from './shared/http-resources/error.interceptor';\nimport {TokenInterceptor} from './shared/http-resources/token.interceptor';\nimport {AlertService} from './shared/alert/alert.service';\nimport {HomeModule} from './modules/home/home.module';\nimport {ActionService} from './core/services/action.service';\nimport {HashLocationStrategy, LocationStrategy} from '@angular/common';\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\nimport {NgxSliderModule} from '@angular-slider/ngx-slider';\nimport {SharingService} from './core/services/sharing.service';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {NgxChartsModule} from '@swimlane/ngx-charts';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    AppRoutingModule,\n    HomeModule,\n    NgbModule,\n    NgxSliderModule,\n    BrowserAnimationsModule,\n    NgxChartsModule\n  ],\n  providers: [\n    {provide: HTTP_INTERCEPTORS, useClass: APIInterceptor, multi: true},\n    {provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true},\n    {provide: HTTP_INTERCEPTORS, useClass: TokenInterceptor, multi: true},\n    {provide: LocationStrategy, useClass: HashLocationStrategy},\n    AuthService,\n    AlertService,\n    ActionService,\n    SharingService,\n  ],\n  exports: [\n    NgbModule\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {map} from 'rxjs/operators';\nimport {AlertService} from '../../shared/alert/alert.service';\nimport {AuthService} from './auth.service';\n\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class ActionService {\n  private _active;\n  private _btcBalance;\n  private _btcPrice;\n  private _allPairs;\n\n  constructor(private http: HttpClient,\n              private authService: AuthService,\n              private alertService: AlertService) {\n  }\n\n\n  getAllPairs() {\n    return this.http.get<any>('api/btcprice/all').pipe(map(resp => {\n      this.allPairs = resp;\n      return resp;\n    }));\n  }\n\n  getSpecificPairs(pair: any) {\n    return this.http.get<any>('api/btcprice/' + pair).pipe(map(resp => {\n      return resp;\n    }));\n  }\n\n  getBtcPrice() {\n    return this.http.get<any>('api/btcprice/BTCUSDT').pipe(map(resp => {\n      this.priceBtc = resp.price;\n      return resp;\n    }));\n  }\n\n  getMoneyPrice(pairs: any, ex: any) {\n    return this.http.get<any>('api/binance/getprice/' + pairs + ex).pipe(map(resp => {\n      return resp;\n    }));\n  }\n\n  getDetailsPairs(pair: any) {\n    return this.http.get<any>('api/binance/prevday/' + pair).pipe(map(resp => {\n      return resp;\n    }));\n  }\n\n  getCandleStick(pair: any, timeframe: any, limit: any) {\n    return this.http.get<any>('api/binance/getcandlesticks/' + pair + '/' + timeframe + '/' + limit).pipe(map(resp => {\n      return resp;\n    }));\n  }\n\n  setStrategy(payload: any) {\n    return this.http.post<any>('api/strategy/' + payload.name, payload).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  setStrategySplitted(payload: any, size: any) {\n    return this.http.post<any>('api/strategy/splitted/' + payload.name + '/' + size, payload).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  setStrategiesSplitted(payload: any, size: any) {\n    return this.http.post<any>('api/strategies/splitted/' + size, payload).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  setStrategies(payload: any) {\n    return this.http.post<any>('api/strategies', payload).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  setPairToMonitor(pair: any) {\n    // @ts-ignore\n    return this.http.post<any>('api/pairs/' + pair).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  deletePairToMonitor(pair: any) {\n    // @ts-ignore\n    return this.http.delete<any>('api/pairs/' + pair).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  getPairMonitored() {\n    return this.http.get<any>('api/pairs/all').pipe(map(data => {\n      return data;\n    }));\n  }\n\n  getProjections() {\n    return this.http.get<any>('api/projections/all').pipe(map(data => {\n      return data;\n    }));\n  }\n\n  getMACD(pair: any, interval: any) {\n    return this.http.get<any>('api/macd/' + pair + '/' + interval ).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  getTopProjections(from: any, to: any) {\n    return this.http.get<any>('api/projections/best/' + 100 + '/' + from + '/' + to ).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  getLastBestProjections(from: any, to: any, payload) {\n    return this.http.post<any>('api/projections/lastbest/' + from + '/' + to, payload ).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  getProjectionCount(payload: any){\n    return this.http.post<any>('api/projections/count' ,  payload).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  getFilteredProjections(skip: any, limit: any, payload: any) {\n    return this.http.post<any>('api/projections/filter/' + skip + '/' + limit, payload).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  getActiveStrategy() {\n    return this.http.get<any>('api/strategy/all').pipe(map(data => {\n      return data;\n    }));\n  }\n\n  stopStrategy(orderId: number, pair: string) {\n    return this.http.get<any>('api/binance/cancelorder/single/' + orderId + '/' + pair).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  deleteFromDb(name: string) {\n    return this.http.delete<any>('api/strategy/' + name).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  multipleCancel(payload: any) {\n    const options = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n      }),\n      body: payload,\n    };\n    return this.http.delete<any>('api/strategy/deletestrategies', options).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  multipleUpdate(payload: any) {\n    return this.http.put<any>('api/strategy/updatestrategies', payload).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  updateStrategy(name: string, payload: any) {\n    return this.http.post<any>('api/strategy/' + name, payload).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  getBtcBalance() {\n    return this.http.get<any>('api/binance/balance').pipe(map(data => {\n      this.balanceBtc = data.btc_balance;\n      return this.balanceBtc;\n    }));\n  }\n\n\n  getAllBalances() {\n    return this.http.get<any>('api/binance/balances').pipe(map(data => {\n      // this.balanceBtc = data.btc_balance;\n      return data;\n    }));\n  }\n\n  getSpecificBalance(pair: any) {\n    return this.http.get<any>('api/binance/balancebypair/' + pair).pipe(map(data => {\n      // this.balanceBtc = data.btc_balance;\n      return data;\n    }));\n  }\n\n  getCurrentStatus(orderId: any, pair: any) {\n    return this.http.get<any>('api/binance/orderstatus/' + orderId + '/' + pair).pipe(map(data => {\n      return JSON.parse(data.success);\n    }));\n  }\n\n  updateAccount(name: string, payload) {\n    return this.http.post<any>('api/users/' + name, payload).pipe(map(data => {\n      this.alertService.addMessage('success', 'Dati aggiornati correttamente');\n      return data;\n    }));\n  }\n\n\n  checkStrategy(name: any) {\n    return this.http.get<any>('api/strategy/' + name).pipe(map(data => {\n      return data;\n    }));\n  }\n\n  getUserInfo() {\n    return this.http.get<any>('api/users/' + this.authService.user).pipe(map(data => {\n      // console.log(data);\n      return data;\n    }));\n  }\n\n  set balanceBtc(value: number) {\n    this._btcBalance = value;\n  }\n\n  get balanceBtc(): number {\n    return this._btcBalance;\n  }\n\n  set allPairs(value: any) {\n    this._allPairs = value;\n  }\n\n  get allPairs(): any {\n    return this._allPairs;\n  }\n\n  set priceBtc(value: number) {\n    this._btcPrice = value;\n  }\n\n  get priceBtc(): number {\n    // console.log('ritorno', this._btcPrice)\n    return this._btcPrice;\n  }\n}\n\n","import {Injectable} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {map} from 'rxjs/operators';\nimport {HttpClient} from '@angular/common/http';\n\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class AuthService {\n\n  private _token;\n  private _user = '';\n  private _isLogged;\n\n  constructor(private router: Router,\n              private http: HttpClient) {\n  }\n\n\n  login(username: string, password: string) {\n    return this.http.get<any>('api/login/' + username + '/' + password)\n      .pipe(map(resp => {\n        this.token = resp.token;\n        this.user = resp.user;\n        this.role = resp.role;\n        this.isLogged = '1';\n        return resp;\n      }));\n  }\n\n  logout() {\n    // remove user from local storage to log user out\n    this.token = '';\n    this.user = '';\n    this.role = '';\n    this.isLogged = '0';\n\n    localStorage.clear();\n    this.router.navigate(['auth/login']).then();\n  }\n\n  get token(): string {\n    return this._token || localStorage.getItem('token');\n  }\n\n  set token(value: string) {\n    localStorage.setItem('token', value);\n    this._token = value;\n  }\n\n  set user(value: string) {\n    localStorage.setItem('user', value);\n    this._user = value;\n  }\n\n  get user(): string {\n\n    return localStorage.getItem('user');\n  }\n\n  set isLogged(value: string) {\n    localStorage.setItem('isLogged', value);\n    this._isLogged = value;\n  }\n\n  get isLogged(): string {\n\n    return localStorage.getItem('isLogged');\n  }\n\n  set role(value: string) {\n    localStorage.setItem('role', value);\n    this._user = value;\n  }\n\n  get role(): string {\n    return this._user || localStorage.getItem('role');\n  }\n\n}\n","import { Injectable, Inject } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\n@Injectable()\nexport class SharingService {\n  private notify = new Subject<any>();\n  /**\n   * Observable string streams\n   */\n  notifyObservable$ = this.notify.asObservable();\n\n  constructor(){}\n\n  public notifyOther(data: any) {\n    if (data) {\n      this.notify.next(data);\n    }\n  }\n}\n","import {Component} from '@angular/core';\n\n@Component({\n    selector: 'dashboard-component',\n    templateUrl: './404.component.html',\n    styleUrls: ['./404.component.scss'],\n})\nexport class NotFoundComponent{\n\n    constructor() {}\n}\n\n","<h2>Not found</h2>\n","import {\n  AfterContentChecked,\n  AfterContentInit,\n  AfterViewChecked,\n  AfterViewInit, ChangeDetectorRef,\n  Component, Input,\n  OnDestroy,\n  OnInit,\n  ViewChild\n} from '@angular/core';\nimport {ModalComponent} from '../../../shared/modal/modal.component';\nimport {ActionService} from '../../../core/services/action.service';\nimport * as _ from 'lodash';\nimport {AlertService} from '../../../shared/alert/alert.service';\nimport {AuthService} from '../../../core/services/auth.service';\nimport {HomeComponent} from '../home.component';\nimport {SharingService} from '../../../core/services/sharing.service';\nimport {ViewportScroller} from '@angular/common';\n\ndeclare var $: any;\n\n@Component({\n  selector: 'dashboard-component',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss'],\n})\nexport class DashboardComponent implements OnInit, OnDestroy, AfterContentChecked {\n  @ViewChild('detailsModal') detailsModal: ModalComponent;\n  @ViewChild('stopModal') stopModal: ModalComponent;\n  @ViewChild('cancelModal') cancelModal: ModalComponent;\n  @ViewChild('transactionsModal') transactionsModal: ModalComponent;\n  @ViewChild('multipleAction') multipleAction: ModalComponent;\n  // @Input() = valueChange: boolean;\n  public activeStrategies: any;\n  public stopData: any;\n  public checkMobileData: any;\n  public searchFilter: any;\n  public searchName: any;\n  public searchDate: any;\n  public searchState = 'all';\n  public details = false;\n  private clonedStrategy: any;\n  public reloadStuff: any;\n  public currentState: any;\n  public strNumber: any;\n  public selectAll = false;\n  public executedTransaction = 0;\n  public selectedBox = [{order: 0, nm: '0', st: '0'}];\n  public loaded = false;\n  public selecteFilter = [];\n  public selectedCoin = [];\n  public minSlide = 0;\n  public maxSlide = 3;\n  public user: any;\n  public currentPrices = [];\n  public btcInitialTotal: any;\n  public btcSelledTotal: any;\n  public btcCurrentTotal: any;\n  public selectedStrategy: any = [];\n  public isChecked: any = [];\n  public multipleType = '';\n  public isPartial = [];\n  public cssmode: any;\n  public reloaded: any;\n  public appliedFilter: boolean;\n\n  constructor(private actionService: ActionService,\n              private alertService: AlertService,\n              private cdFref: ChangeDetectorRef,\n              private _vps: ViewportScroller,\n              private sharingService: SharingService,\n              private authService: AuthService,\n              private homeCmp: HomeComponent\n  ) {\n    this.loadActiveStrategy();\n    this.user = this.authService.user;\n    this.cssmode = localStorage.getItem('cssmode') === 'light';\n\n  }\n\n  ngOnInit() {\n\n    this.reloadStuff = setInterval(() => {\n      this.reload();\n      this.reloaded = parseFloat($('#carouselExampleControlsTop .active').attr('id'));\n    }, 31000);\n\n    this.sharingService.notifyObservable$.subscribe((res) => {\n      if (res.hasOwnProperty('value')) {\n        this.cssmode = res.value;\n      }\n    });\n\n    $('#carouselExampleControlsTop').carousel({\n      interval: false\n    });\n\n\n  }\n\n\n  moveSliderDetails(action: string) {\n\n    $('#carouselExampleControlsTop').carousel('pause');\n    if (action === 'next') {\n      for (let i = 0; i < this.strNumber; i++) {\n        const name = '#carouselExampleControls' + i;\n        $(name).carousel(action);\n      }\n    } else {\n      for (let i = 0; i < this.strNumber; i++) {\n        const name = '#carouselExampleControls' + i;\n        $(name).carousel(action);\n      }\n    }\n  }\n\n\n  setSlider() {\n    let slide = $('#carouselExampleControlsTop .active').attr('id');\n    for (let i = 0; i < this.strNumber; i++) {\n      const name = '#carouselExampleControls' + i;\n      if (slide === undefined) {\n        slide = 0;\n      }\n      if ($(name).find('#' + slide + '0').hasClass('active')) {\n        $(name).find('#' + slide + '0').removeClass('active');\n      }\n      $(name).find('#' + slide + '0').addClass('active');\n    }\n  }\n\n\n  ngAfterContentChecked() {\n    this.calculateTotalTransactions();\n  }\n\n  ngOnDestroy() {\n    clearInterval(this.reloadStuff);\n  }\n\n  reload() {\n    this.resetFilter();\n    this.loadActiveStrategy();\n    this.executedTransaction = 0;\n    this.calculateTotalTransactions();\n    this.reloadCheckBox();\n  }\n\n\n  setFilterPair(pair: string) {\n    if (this.searchFilter === pair) {\n      this.searchFilter = '';\n    } else {\n      this.searchFilter = pair;\n    }\n    this.filterResult(this.searchFilter, 'pairs');\n  }\n\n  isNumero(val) {\n    let result = false;\n    if (!_.isNaN(val)) {\n      result = true;\n    }\n    return result;\n  }\n\n  reloadCheckBox() {\n    if (this.selectAll) {\n      this.isChecked = _.fill(this.isChecked, true);\n    } else if (!this.selectAll && !_.isEmpty(this.selectedStrategy)) {\n      // console.log(this.selectedStrategy, 'reload')\n      _.forEach(this.selectedStrategy, (s, i) => {\n        this.isChecked[s.id] = true;\n      });\n    } else if (!this.selectAll && _.isEmpty(this.selectedStrategy)) {\n      this.uncheckAll();\n    }\n  }\n\n  manageAll(event: any) {\n\n    if (event === true) {\n      _.forEach(this.activeStrategies, (o, i) => {\n        this.selectedStrategy.push({order: o.order_id, nm: o.name, st: o.status, pair: o.coin_pair});\n        this.isChecked[i] = true;\n      });\n    } else {\n      this.selectedStrategy = [];\n      _.forEach(this.activeStrategies, (o, i) => {\n        this.isChecked[i] = false;\n      });\n    }\n    this.selectedStrategy = _.uniqBy(this.selectedStrategy, (o) => {\n      return o.order;\n    });\n\n  }\n\n  manageSlider(action: boolean) {\n    if (action) {\n      if (this.maxSlide < this.selectedCoin.length - 1) {\n        this.minSlide++;\n        this.maxSlide++;\n      }\n    } else {\n      if (this.minSlide > 0) {\n        this.minSlide--;\n        this.maxSlide--;\n      }\n    }\n  }\n\n  updateSelectStatus(event: any, orderId: any, name: any, status: any, pairC: any, index: any) {\n    this.selectAll = false;\n    if (event.target.checked === true) {\n      this.selectedStrategy.push({order: orderId, nm: name, st: status, pair: pairC, id: index});\n      this.isChecked[index] = true;\n    } else {\n      this.selectedStrategy = _.remove(this.selectedStrategy, (n) => {\n        return n.order !== orderId;\n      });\n      this.isChecked[index] = false;\n\n    }\n  }\n\n  getFloor(value: any) {\n    return Math.floor(value);\n  }\n\n  specificPair(pairs: any) {\n    // console.log(pairs, 'pp')\n    this.currentPrices = [];\n    _.forEach(pairs, (p, i) => {\n      this.actionService.getDetailsPairs(p.coin_pair).subscribe((resp) => {\n          // console.log(resp);\n          resp.prevDay.symbol = p.coin_pair;\n          resp.prevDay.lastPrice = parseFloat(resp.prevDay.lastPrice);\n          resp.prevDay.quoteVolume = parseFloat(resp.prevDay.quoteVolume);\n          this.currentPrices.push(resp.prevDay);\n          this.currentPrices = _.uniqBy(this.currentPrices, (e) => {\n            return e.symbol;\n          });\n          // if (this.currentPrices === []) {\n          // } else {\n          //   _.forEach(this.currentPrices, (pp) => {\n          //     if (pp.name === p.name && p.price !== pp.price) {\n          //       pp.price = p.price;\n          //     }\n          //   });\n          // }\n\n          // console.log(this.currentPrices)\n        },\n        (error) => {\n        });\n    });\n  }\n\n  calculateCurrentCapital(currentCapital: any, pair: any, str: any) {\n\n    if (str.current_status === 'BUY') {\n      return this.calculateSelledCapital(str.capital, str.sell_price, str.current_capital, str.buy_price, str.current_status, str.isBtcCapital);\n    }\n\n    let selectedPairPrice;\n    _.forEach(this.currentPrices, (cp) => {\n      if (cp.symbol === pair) {\n        selectedPairPrice = cp.lastPrice;\n      }\n    });\n    const result = (currentCapital * selectedPairPrice).toFixed(8);\n    if (parseFloat(result) <= 0.00000010) {\n      return currentCapital;\n    }\n    return parseFloat(result);\n\n  }\n\n  calculateDelta(p1: any, p2: any, status?: any, str?: any) {\n    if (parseFloat(p2) === 0) {\n      return 0;\n    }\n    if (status === 'BUY') {\n      // tslint:disable-next-line:max-line-length\n      return this.calculateDelta(p1, this.calculateSelledCapital(str.capital, str.sell_price, str.current_capital, str.buy_price, str.current_status, str.isBtcCapital));\n    }\n    if (str && !str.isBtcCapital && _.isInteger(p1)) {\n      p1 = (p1 * str.sell_price).toFixed(8);\n    }\n\n    const partial = (parseFloat(p2) - p1) / p1;\n    return (partial * 100).toFixed(2);\n  }\n\n  calculateSelledCapital(capital: any, sellPrice: any, currentCapital: any, buyPrice: any, status: any, isBtcCapital: boolean) {\n    const parseSellPrice = sellPrice.toFixed(8);\n    const parseBuyPrice = buyPrice.toFixed(8);\n    const ccS = parseFloat((currentCapital * parseSellPrice).toFixed(8));\n    const ccB = parseFloat((currentCapital * parseBuyPrice).toFixed(8));\n    switch (status) {\n      case'BUY':\n        if (ccB <= 0.00000010) {\n          return capital;\n        }\n        // iisBtcCapital ? ccB :ccS\n        return ccB;\n        break;\n      case'SELL':\n        return ccS;\n        break;\n      default:\n        return capital;\n    }\n\n\n  }\n\n  calculateTransactions(str: any, status: any, transactions: any, length: any) {\n    const lastTransaction = transactions[length - 1];\n    const type = lastTransaction && lastTransaction.type_transaction ? lastTransaction.type_transaction : 'BUY';\n    let result = length % 2 === 0 ? length / 2 : this.getFloor(length / 2);\n    // if (length >= 3) {\n    //\n    // } else {\n    //   if (type === 'SELL' && status === 'ACTIVE') {\n    //     result = str.isBtcCapital ? result - 1 : result;\n    //   }\n    // }\n    if (type === 'SELL' && status === 'ACTIVE') {\n      result = str.isBtcCapital ? result - 1 : result;\n    }\n    return result;\n  }\n\n  calculateTotalTransactions() {\n    let partial = 0;\n    _.forEach(this.activeStrategies, (str) => {\n      if (str.order_type !== 'single') {\n        const lastTransaction = str.transactions[str.transactions.length - 1];\n        const type = lastTransaction && lastTransaction.type_transaction ? lastTransaction.type_transaction : 'BUY';\n        let result = str.transactions.length % 2 === 0 ? str.transactions.length / 2 : this.getFloor(str.transactions.length / 2);\n        // if (str.transactions.length >= 3) {\n        //   if (type === 'SELL' && str.status === 'ACTIVE') {\n        //     result = str.isBtcCapital ? result - 1 : result;\n        //   }\n        // } else {\n        // }\n        if (type === 'SELL' && str.status === 'ACTIVE') {\n          result = str.isBtcCapital ? result - 1 : result;\n        }\n        partial += result;\n      }\n\n\n    });\n    this.executedTransaction = partial;\n    this.loaded = true;\n  }\n\n  getCeil(value: any) {\n    return Math.ceil(value);\n  }\n\n  closeStop() {\n    this.stopModal.dismiss();\n  }\n\n  closeCancel() {\n    this.cancelModal.dismiss();\n  }\n\n  closeTransaction() {\n    this.transactionsModal.dismiss();\n  }\n\n  openConfirmModal(id) {\n    this.checkMobileData = this.activeStrategies[id];\n    this.detailsModal.show('modal-lg');\n  }\n\n  openMultiple(type: any) {\n    if (this.selectedStrategy.length > 1) {\n\n      this.multipleAction.show('modal-lg');\n      switch (type) {\n        case 'pp':\n          this.multipleType = type;\n          break;\n        case 'cancel':\n          this.multipleType = type;\n          break;\n        default:\n          this.multipleType = '';\n      }\n    } else {\n      this.alertService.addMessage('danger', 'Devi selezionare almeno 2 strategie');\n    }\n  }\n\n  manageMultipleAction(type: any) {\n    const payload = [];\n    if (type === 'pp') {\n      _.forEach(this.selectedStrategy, (ss, i) => {\n        const stat = ss.st === 'STOP' ? 'ACTIVE' : 'STOP';\n        payload.push({name: ss.nm, status: stat});\n      });\n      this.actionService.multipleUpdate(payload).subscribe((resp) => {\n        if (resp) {\n          this.closeMultiple();\n          this.loadActiveStrategy();\n          this.actionService.getBtcBalance().subscribe();\n          this.calculateTotalTransactions();\n          this.uncheckAll();\n          this.selectedStrategy = [];\n          this.alertService.addMessage('success', resp.success);\n          this.clearFilter();\n        }\n      });\n    } else {\n      _.forEach(this.selectedStrategy, (ss, i) => {\n        payload.push({name: ss.nm, orderId: ss.order, pair: ss.pair});\n      });\n      this.actionService.multipleCancel(payload).subscribe((resp) => {\n        if (resp) {\n\n          this.closeMultiple();\n          this.loadActiveStrategy();\n          this.actionService.getBtcBalance().subscribe();\n          this.calculateTotalTransactions();\n          this.uncheckAll();\n          this.selectedStrategy = [];\n          this.alertService.addMessage('success', resp.success);\n          this.clearFilter();\n        }\n\n      });\n    }\n\n  }\n\n  uncheckAll() {\n    _.forEach(this.selectedStrategy, (as, i) => {\n    });\n    this.selectAll = false;\n    this.isChecked = _.fill(this.isChecked, false);\n  }\n\n  closeMultiple() {\n    this.multipleType = '';\n    this.multipleAction.dismiss();\n  }\n\n  openStopModal() {\n    this.closeTransaction();\n    this.stopModal.show('modal-lg');\n  }\n\n  openCancelModal() {\n    this.closeTransaction();\n    this.cancelModal.show('modal-lg');\n  }\n\n  fromCoinToBTC(amount: any, price: any) {\n    const parsedAmount = parseFloat((amount * price).toFixed(8));\n    return parsedAmount;\n  }\n\n  loadActiveStrategy() {\n    this.actionService.getActiveStrategy().subscribe((resp) => {\n      this.clonedStrategy = _.cloneDeep(resp);\n      this.activeStrategies = _.orderBy(this.clonedStrategy, 'name', 'asc');\n      if (this.stopData === undefined) {\n        this.stopData = resp[0];\n      }\n      this.selectedCoin = [];\n      this.selectedCoin = _.uniqBy(this.activeStrategies, (e) => {\n        return e.coin_pair;\n      });\n      this.specificPair(this.selectedCoin);\n      this.checkMobileData = resp[0];\n      this.strNumber = this.clonedStrategy.length;\n      _.forEach(this.selecteFilter, (sf) => {\n        if (sf.name !== 'all' && sf.name !== '') {\n          this.filterResult(sf.name, sf.type);\n        }\n      });\n\n      this.checkPartialOrders();\n    });\n  }\n\n  checkPartialOrders() {\n    const result = [];\n    _.forEach(this.activeStrategies, (str, i) => {\n      result.push({tr: _.last(str.transactions), pair: str.coin_pair, status: str.current_status});\n    });\n    _.forEach(result, (re, i) => {\n      if (_.has(re.tr, 'partially_filled')) {\n        this.isPartial[i] = true;\n      } else {\n        this.isPartial[i] = false;\n      }\n    });\n  }\n\n  getSpecificStatus(orderId: any, pair: any) {\n    this.actionService.getCurrentStatus(orderId, pair).subscribe((resp) => {\n      if (_.isEmpty(resp)) {\n        this.alertService.addMessage('info', 'Stato dell ordine chiuso bilancio insufficente');\n      } else {\n        const state = resp.status === 'NEW' ? 'APERTO' : 'CHIUSO';\n        this.alertService.addMessage('info', 'Stato dell ordine: ' + state);\n      }\n      return resp;\n    });\n  }\n\n  deleteFromDb(name: string) {\n    this.actionService.deleteFromDb(name).subscribe(() => {\n      this.closeCancel();\n      this.loadActiveStrategy();\n      this.actionService.getBtcBalance().subscribe();\n      this.calculateTotalTransactions();\n      this.alertService.addMessage('success', 'Ordine cancellato con successo');\n    });\n  }\n\n  cancelStrategy(orderId: number, pair: string, name: string) {\n    if (orderId !== undefined) {\n\n      this.actionService.stopStrategy(orderId, pair).subscribe((resp) => {\n        this.actionService.deleteFromDb(name).subscribe(() => {\n          this.closeCancel();\n          this.loadActiveStrategy();\n          this.actionService.getBtcBalance().subscribe();\n          this.calculateTotalTransactions();\n          this.alertService.addMessage('success', 'Ordine cancellato con successo');\n        });\n      });\n    } else {\n      this.closeCancel();\n      this.alertService.addMessage('danger', 'Ordine nn ancora aperto riprova fra poco');\n    }\n  }\n\n  updateStrategy(name: string, status: string) {\n\n    const payload = {\n      status: status === 'ACTIVE' ? 'STOP' : 'ACTIVE',\n    };\n    this.actionService.updateStrategy(name, payload).subscribe((resp) => {\n      this.closeStop();\n      this.loadActiveStrategy();\n      this.calculateTotalTransactions();\n    });\n  }\n\n  filterResult(name: string, type: string) {\n    this.loaded = false;\n    let data;\n\n    if (type === 'pairs') {\n      this.searchName = '';\n      this.searchDate = '';\n      this.searchState = 'all';\n      if (this.searchFilter !== undefined) {\n        data = _.filter(this.clonedStrategy, (o) => {\n          return o.coin_pair.includes(name.toUpperCase());\n        });\n      } else {\n        data = this.clonedStrategy;\n      }\n    } else if (type === 'name') {\n      this.searchFilter = '';\n      this.searchDate = '';\n      this.searchState = 'all';\n      if (this.searchName !== undefined) {\n        data = _.filter(this.clonedStrategy, (o) => {\n          return o.name.includes(name.toUpperCase());\n        });\n      } else {\n        data = this.clonedStrategy;\n      }\n    } else if (type === 'date') {\n      this.searchFilter = '';\n      this.searchName = '';\n      this.searchState = 'all';\n      if (this.searchDate !== undefined) {\n        data = _.filter(this.clonedStrategy, (o) => {\n          return o.date.includes(name);\n        });\n      } else {\n        data = this.clonedStrategy;\n      }\n    } else if (type === 'state') {\n      this.searchFilter = '';\n      this.searchName = '';\n      this.searchDate = '';\n      const nameUp = name.toUpperCase();\n\n      if (this.searchState !== undefined && name !== 'all') {\n        data = _.filter(this.clonedStrategy, (o) => {\n          return o.current_status === nameUp;\n        });\n      } else {\n        data = this.clonedStrategy;\n      }\n    }\n    this.activeStrategies = _.orderBy(data, 'name', 'asc');\n    this.loaded = true;\n\n  }\n\n  openDetails(data: any) {\n    this.stopData = this.activeStrategies[data];\n    $(document).on('click', '.showD', () => {\n      this.transactionsModal.show('modal-lg');\n    });\n  }\n\n\n  showInitialCapital(str: any) {\n    if (str.isBtcCapital) {\n      if (str.transactions[0] && str.transactions[0].cumulative_quantity) {\n        return str.transactions[0].cumulative_quantity;\n      }\n      return str.capital;\n    } else {\n      // ALTCOINS\n      // if (str.transactions[0] && str.transactions[0].cumulative_quantity ) {\n      //   return str.transactions[0].cumulative_quantity;\n      // }\n      // if (str.current_status === 'SELL') {\n      //   return this.fromCoinToBTC(str.capital, str.sell_price);\n      // }\n      // console.log(this.currentPrices);\n      // const price = _.filter(this.currentPrices, (o) => {\n      //   return o.name === str.coin_pair;\n      // });\n      // console.log(price, '<<<');\n\n      if (str.current_initial_price && (str.sell_price < str.current_initial_price)) {\n        // console.log('soddisffo',str);\n        return this.fromCoinToBTC(str.capital, str.current_initial_price);\n      }\n      // console.log('nn soddisfso',str.name, str.capital, str.sell_price);\n\n      return this.fromCoinToBTC(str.capital, str.sell_price);\n    }\n\n  }\n\n  calculateCapital(type: string) {\n    let startCapital = 0;\n    let currentCapital = 0;\n    let realCurrentCapital = 0;\n\n    switch (type) {\n      case 'initial':\n        _.forEach(this.activeStrategies, (str) => {\n          if (str.order_type !== 'single') {\n            if (str.transactions[0] && str.transactions[0].cumulative_quantity && str.isBtcCapital) {\n              // tslint:disable-next-line:max-line-length\n              startCapital += str.transactions[0].cumulative_quantity;\n            } else {\n              // tslint:disable-next-line:max-line-length\n              startCapital += str.isBtcCapital ? str.capital : str.sell_price < str.current_initial_price ? this.fromCoinToBTC(str.capital, str.current_initial_price) : this.fromCoinToBTC(str.capital, str.sell_price);\n            }\n          }\n        });\n        this.btcInitialTotal = startCapital.toFixed(8);\n        return startCapital.toFixed(8);\n      case 'selled':\n        _.forEach(this.activeStrategies, (str) => {\n          if (str.order_type !== 'single') {\n            // tslint:disable-next-line:max-line-length\n            currentCapital += this.calculateSelledCapital(str.capital, str.sell_price, str.current_capital, str.buy_price, str.current_status, str.isBtcCapital);\n          }\n        });\n        this.btcSelledTotal = currentCapital.toFixed(8);\n        return currentCapital.toFixed(8);\n      case 'current' :\n        _.forEach(this.activeStrategies, (str) => {\n          if (str.order_type !== 'single') {\n            realCurrentCapital += parseFloat(this.calculateCurrentCapital(str.current_capital, str.coin_pair, str));\n          }\n        });\n        this.btcCurrentTotal = realCurrentCapital.toFixed(8);\n        return realCurrentCapital.toFixed(8);\n    }\n  }\n\n  parseDate(date: any) {\n    const data = new Date(date);\n    // tslint:disable-next-line:max-line-length\n    return data.getDate() + '/' + (data.getMonth() + 1) + '/' + data.getFullYear() + ' - ' + (data.getHours() < 10 ? '0' + data.getHours() : data.getHours()) + ':' + (data.getMinutes() < 10 ? '0' + data.getMinutes() : data.getMinutes());\n  }\n\n  resetFilter() {\n    const result = [];\n    this.searchFilter = _.isEmpty(this.searchFilter) ? '' : this.searchFilter;\n    result.push({name: this.searchFilter, type: 'pairs'});\n    this.searchState = this.searchState === 'all' ? 'all' : this.searchState;\n    result.push({name: this.searchState, type: 'state'});\n    this.searchName = _.isEmpty(this.searchName) ? '' : this.searchName;\n    result.push({name: this.searchName, type: 'name'});\n    // this.searchDate = _.isEmpty(this.searchDate) ? '' : this.searchDate;\n    this.selecteFilter = result;\n    // this.selectedStrategy = [];\n\n  }\n\n  clearFilter() {\n    this.searchFilter = undefined;\n    this.searchState = 'all';\n    this.searchName = undefined;\n  }\n}\n\n","<div class=\"sub-header\">\n  <div class=\"h1\">Riepilogo <span class=\"float-right\" style=\"font-size: 16px\"><u>Strategie attive: {{strNumber}}</u></span>\n  </div>\n</div>\n<div class=\"mt-3\" *ngIf=\"loaded\">\n  <div id=\"accordion\" class=\"mb-3\">\n        <div class=\"row\"  >\n          <div class=\"col-10\">\n            <div class=\"mobile-info\">\n              <div id=\"carouselExampleControlsAssets\" class=\"carousel slide\" data-ride=\"carousel\">\n                <div class=\"carousel-inner\">\n                  <div   class=\"carousel-item stat \" *ngFor=\"let p of currentPrices; let first=first\" [ngClass]=\"{'active': first}\" (click)=\"setFilterPair(p.symbol)\">\n                    <strong>{{p.symbol}}</strong>: {{ (p.lastPrice).toFixed(8) }} <br>\n                     <strong> Volume</strong>: {{p.quoteVolume.toFixed(2)}} BTC\n                  </div>\n                </div>\n                <a class=\"carousel-control-prev top\" href=\"#carouselExampleControlsAssets\" role=\"button\" data-slide=\"prev\">\n<!--                  <span class=\"carousel-control-prev-icon\" [ngClass]=\"{'light': cssmode}\" aria-hidden=\"true\"></span>-->\n                  <span class=\"sr-only\">Previous</span>\n                </a>\n                <a class=\"carousel-control-next top\" href=\"#carouselExampleControlsAssets\" role=\"button\" data-slide=\"next\">\n<!--                  <span class=\"carousel-control-next-icon\" [ngClass]=\"{'light': cssmode}\" aria-hidden=\"true\"></span>-->\n                  <span class=\"sr-only\">Next</span>\n                </a>\n              </div>\n            </div>\n            <div class=\"desk-info top\" >\n              <div *ngIf=\"currentPrices.length\">\n                <span  class=\"price-label m-1 pointer\"  *ngFor=\"let p of currentPrices; let last=last\" (click)=\"setFilterPair(p.symbol)\" [ngClass]=\"{'light': cssmode,'dark': !cssmode, 'selected-filter': p.symbol === searchFilter}\">\n                 <strong>{{p.symbol}}</strong>: {{ (p.lastPrice).toFixed(8) }} <br>\n                 <strong> Volume</strong>: {{p.quoteVolume.toFixed(2)}}\n                </span>\n              </div>\n              <div *ngIf=\"!currentPrices.length\" >\n                <div class=\"card-s\" role=\"status\"></div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-2\">\n          <span class=\"float-right mb-2\">\n            <img class=\"info-dot partial\"  src=\"assets/icons/info-solid.svg\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Ordine parzialmente eseguito\">\n            <img class=\"info-dot single\"  src=\"assets/icons/info-solid.svg\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Ordine singolo\">\n          </span>\n          </div>\n        </div>\n      <div>\n      </div>\n    <div *ngIf=\"selectedStrategy.length > 1\" >\n      <div class=\"float-left mt-2 mb-2 multi-container\">\n        <button class=\"btn btn-dark\" (click)=\"openMultiple('pp')\">PAUSE/PLAY</button> &nbsp;&nbsp;\n        <button class=\"btn btn-danger\" (click)=\"openMultiple('cancel')\">CANCELLA</button>\n        <span class=\"float-right\">Strategie selezionate: {{selectedStrategy.length}}</span>\n      </div>\n    </div>\n\n\n  </div>\n  <table id=\"dash-table\" class=\"table-responsive\">\n    <tr class=\"text-center\">\n      <th></th>\n      <th>Stato</th>\n      <th>\n       <div class=\"desk-info\"> Nome </div>\n       <div class=\"mobile-info\">\n         <div id=\"carouselExampleControlsTop\" class=\"carousel slide\" data-interval=\"false\">\n           <div class=\"carousel-inner\">\n             <div id=\"0\" class=\"carousel-item stat active\">\n               <label>Nome</label>\n             </div>\n             <div id=\"1\"  class=\"carousel-item stat\">\n               <label>Scambio</label>\n             </div>\n             <div id=\"2\" class=\"carousel-item stat\">\n               <label>ToT Btc Iniziali</label> <br> <span>{{calculateCapital('initial')}}</span>\n             </div>\n             <div id=\"3\" class=\"carousel-item stat\">\n               <label>ToT Btc Vendita</label> <br> <span>{{calculateCapital('selled')}}</span>\n             </div>\n             <div id=\"4\" class=\"carousel-item stat\">\n               <label>&#9650; BTC vendita</label> <br> <span>{{calculateDelta(btcInitialTotal, btcSelledTotal) + '%'}}</span>\n             </div>\n             <div id=\"5\" class=\"carousel-item stat\">\n               <label>ToT Btc Correnti</label> <br> <span>{{calculateCapital('current')}}</span>\n             </div>\n             <div id=\"6\" class=\"carousel-item stat\">\n               <label>&#9650; BTC Correnti</label> <br> <span>{{calculateDelta(btcInitialTotal, btcCurrentTotal)  + '%'}}</span>\n             </div>\n             <div id=\"7\" class=\"carousel-item stat\">\n               <label>Prezzo Compera</label>\n             </div>\n             <div id=\"8\" class=\"carousel-item stat\">\n               <label>Prezzo Vendita</label>\n             </div>\n             <div id=\"9\" class=\"carousel-item stat\">\n               <label>Data</label>\n             </div>\n           </div>\n           <a class=\"carousel-control-prev top\" href=\"#carouselExampleControlsTop\" role=\"button\" data-slide=\"prev\"  (click)=\"moveSliderDetails('prev')\">\n             <span class=\"carousel-control-prev-icon\" [ngClass]=\"{'light': cssmode}\" aria-hidden=\"true\"></span>\n             <span class=\"sr-only\">Previous</span>\n           </a>\n           <a class=\"carousel-control-next top\" href=\"#carouselExampleControlsTop\" role=\"button\" data-slide=\"next\" (click)=\"moveSliderDetails('next')\">\n             <span class=\"carousel-control-next-icon\" [ngClass]=\"{'light': cssmode}\" aria-hidden=\"true\"></span>\n             <span class=\"sr-only\">Next</span>\n           </a>\n         </div>\n       </div>\n      </th>\n      <th class=\"hidden-column\">Scambio</th>\n      <th class=\"hidden-column\">BTC iniziali</th>\n      <th class=\"hidden-column\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Totale BTC alla fine di tutte le vendite\">BTC alla vendita</th>\n      <th class=\"hidden-column\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Differenza % tra BTC iniziali e BTC vendita\">&#9650; % vendita</th>\n      <th class=\"hidden-column\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Totale BTC al valore attuale di mercato\">BTC correnti</th>\n      <th class=\"hidden-column\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Differenza % tra BTC iniziali e BTC correnti\">&#9650; % correnti</th>\n      <th class=\"hidden-column\">Prezzo di compera</th>\n      <th class=\"hidden-column\">Prezzo di vendita</th>\n      <th class=\"hidden-column\">Data</th>\n      <th class=\"d-none\">PAUSA</th>\n      <th class=\"d-none\">CHIUDI</th>\n      <th>Cicli eseguiti</th>\n    </tr>\n    <tr>\n      <td >\n        <input type=\"checkbox\" id=\"selectAll\" [(ngModel)]=\"selectAll\" (ngModelChange)=\"manageAll($event)\">\n      </td>\n      <td>\n        <label class=\"mr-1 label-custom\" for=\"all\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Tutti gli ordini\">\n          <input id=\"all\" type=\"radio\" value=\"all\" class=\"radio-dash all\" [(ngModel)]=\"searchState\"\n                 (ngModelChange)=\"filterResult(searchState,'state')\">\n          <svg [ngStyle]=\"{'opacity': searchState == 'all' ? '1' : '0.5'}\" aria-hidden=\"true\" focusable=\"false\"\n               data-prefix=\"fas\" data-icon=\"dollar-sign\" class=\"svg-inline--fa fa-dollar-sign fa-w-9\" role=\"img\"\n               xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 288 512\">\n            <path fill=\"blue\"\n                  d=\"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z\"></path>\n          </svg>\n        </label>\n        <label class=\"mr-1 label-custom\" for=\"buy\" data-toggle=\"tooltip\" data-placement=\"top\"\n               title=\"Ordini in acquisto\">\n          <input id=\"buy\" type=\"radio\" value=\"buy\" class=\"radio-dash buy\" [(ngModel)]=\"searchState\"\n                 (ngModelChange)=\"filterResult(searchState,'state')\">\n          <svg [ngStyle]=\"{'opacity': searchState == 'buy' ? '1' : '0.5'}\" aria-hidden=\"true\" focusable=\"false\"\n               data-prefix=\"fas\" data-icon=\"dollar-sign\" class=\"svg-inline--fa fa-dollar-sign fa-w-9\" role=\"img\"\n               xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 288 512\">\n            <path fill=\"green\"\n                  d=\"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z\"></path>\n          </svg>\n        </label>\n        <label for=\"sell\" class=\"label-custom\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Ordini in vendita\">\n          <input id=\"sell\" type=\"radio\" value=\"sell\" class=\"radio-dash sell\" [(ngModel)]=\"searchState\"\n                 (ngModelChange)=\"filterResult(searchState,'state')\">\n          <svg [ngStyle]=\"{'opacity': searchState == 'sell' ? '1' : '0.5'}\" aria-hidden=\"true\" focusable=\"false\"\n               data-prefix=\"fas\" data-icon=\"dollar-sign\" class=\"svg-inline--fa fa-dollar-sign fa-w-9\" role=\"img\"\n               xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 288 512\">\n            <path fill=\"red\"\n                  d=\"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z\"></path>\n          </svg>\n        </label>\n      </td>\n      <td class=\"hidden-column\">\n        <input type=\"text\" id=\"filter-name\" class=\"w-100\" [(ngModel)]=\"searchName\"\n               (ngModelChange)=\"filterResult(searchName,'name')\">\n      </td>\n      <td><input type=\"text\" id=\"filter-pair\" class=\"filter-dash\" [(ngModel)]=\"searchFilter\"\n                 (ngModelChange)=\"filterResult(searchFilter,'pairs')\"></td>\n      <td class=\"hidden-column\"><input [value]=\"calculateCapital('initial')\" type=\"text\" class=\"filter-dash tot\" [disabled]=\"true\"></td>\n      <td class=\"hidden-column\"><input [value]=\"calculateCapital('selled')\" type=\"text\" class=\"filter-dash tot\" [disabled]=\"true\"></td>\n      <td class=\"hidden-column\"><input [value]=\"calculateDelta(btcInitialTotal, btcSelledTotal) + '%'\" type=\"text\" class=\"filter-dash tot text-center\" [disabled]=\"true\"></td>\n      <td class=\"hidden-column\"><input [value]=\"calculateCapital('current')\" type=\"text\" class=\"filter-dash tot\" [disabled]=\"true\"></td>\n      <td class=\"hidden-column\"><input [value]=\"calculateDelta(btcInitialTotal, btcCurrentTotal)  + '%'\" type=\"text\" class=\"filter-dash tot text-center\" [disabled]=\"true\"></td>\n      <td class=\"hidden-column\"><input type=\"text\" class=\"filter-dash \" [disabled]=\"true\"></td>\n      <td class=\"hidden-column\"><input type=\"text\" class=\"filter-dash \" [disabled]=\"true\"></td>\n      <td class=\"hidden-column\"><input [disabled]=\"true\" type=\"text\" id=\"filter-date\" class=\"filter-dash\" [(ngModel)]=\"searchDate\"\n                 (ngModelChange)=\"filterResult(searchDate,'date')\"></td>\n      <td class=\"d-none\"><input type=\"text\" class=\"filter-dash min\" [disabled]=\"true\"></td>\n      <td class=\"d-none\"><input type=\"text\" class=\"filter-dash min\" [disabled]=\"true\"></td>\n      <td><input [(ngModel)]=\"executedTransaction\"  type=\"text\" class=\"filter-dash text-center\" [disabled]=\"true\"></td>\n    </tr>\n    <tr *ngIf=\"!activeStrategies || !activeStrategies.length\">\n      <td colspan=\"13\" class=\"text-uppercase pt-3 text-center\">\n        <p>\n          <span *ngIf=\"!activeStrategies\" class=\"spinner-border\"></span>\n          <strong *ngIf=\"activeStrategies && activeStrategies.length === 0\">Comincia settando le tue strategie !!!</strong>\n        </p>\n      </td>\n    </tr>\n    <tr *ngFor=\"let str of activeStrategies; let $index = index; let $first=first; let $last=last\"  (click)=\"openDetails($index)\" style=\"cursor: pointer\" [ngClass]=\"{'partial': isPartial[$index] === true, 'single': str.order_type === 'single'}\">\n      <td >\n        <input class=\"check-dash\" type=\"checkbox\" [checked]=\"isChecked[$index]\" [name]=\"str.name\" (change)=\"updateSelectStatus($event, str.order_id, str.name, str.status, str.coin_pair, $index)\" id=\"{{'select'+ $index}}\">\n      </td>\n      <td class=\"text-center showD\" >\n        <span data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visualizza ordini\">\n          <img *ngIf=\"str.current_status == 'BUY'\" src=\"assets/icons/dollar-sign-solid.svg\" alt=\"buy\" width=\"18\">\n          <img *ngIf=\"str.current_status != 'BUY'\" src=\"assets/icons/dollar-sign.svg\" alt=\"sell\" width=\"18\">\n          <img class=\"status-icon play\" *ngIf=\"str.status == 'ACTIVE'\" src=\"assets/icons/play-circle-solid.svg\"\n               alt=\"play\" width=\"18\">\n          <img class=\"status-icon pause\" *ngIf=\"str.status != 'ACTIVE'\" src=\"assets/icons/pause-circle-solid.svg\"\n               alt=\"pause\" width=\"18\">\n      </span>\n      </td>\n      <td >\n      <div class=\"showD desk-info\"> {{str.name}}</div>\n      <div class=\"mobile-info read\">\n        <div [id]=\"'carouselExampleControls' + $index\" class=\"carousel slide\" data-interval=\"false\">\n          <div class=\"carousel-inner \">\n            <div id=\"00\" class=\"carousel-item\" [ngClass]=\"{'active' : 0 === reloaded || reloaded === undefined}\">\n              <br> <span>{{str.name}}</span>\n            </div>\n            <div id=\"10\" class=\"carousel-item\" [ngClass]=\"{'active' : 1 === reloaded }\">\n              <br> <span>{{str.coin_pair}}</span>\n            </div>\n            <div id=\"20\" class=\"carousel-item \" [ngClass]=\"{'active' : 2 === reloaded}\">\n              <br> <span> {{showInitialCapital(str)}}</span>\n            </div>\n            <div id=\"30\" class=\"carousel-item\" [ngClass]=\"{'active' : 3 === reloaded}\">\n              <br> <span>{{calculateSelledCapital(str.capital, str.sell_price, str.current_capital,str.buy_price,str.current_status, str.isBtcCapital)}}</span>\n            </div>\n            <div id=\"40\" class=\"carousel-item\" [ngClass]=\"{'active' : 4 === reloaded}\">\n              <br> <span>{{str.order_type !== 'single' ? calculateDelta( str.isBtcCapital ? str.transactions[0] && str.transactions[0].cumulative_quantity ? str.transactions[0].cumulative_quantity : str.capital : str.sell_price < str.current_initial_price ? fromCoinToBTC(str.capital, str.current_initial_price) : fromCoinToBTC(str.capital, str.sell_price), calculateSelledCapital(str.capital, str.sell_price, str.current_capital,str.buy_price,str.current_status, str.isBtcCapital), false , str) : 0}}%</span>\n            </div>\n            <div id=\"50\" class=\"carousel-item\" [ngClass]=\"{'active' : 5 === reloaded}\">\n              <br> <span>{{calculateCurrentCapital(str.current_capital ,str.coin_pair, str)}}</span>\n            </div>\n            <div id=\"60\" class=\"carousel-item\" [ngClass]=\"{'active' : 6 === reloaded}\">\n              <span>\n               {{str.order_type !== 'single' ? calculateDelta( str.isBtcCapital ? str.transactions[0] && str.transactions[0].cumulative_quantity ? str.transactions[0].cumulative_quantity : str.capital : str.sell_price < str.current_initial_price ? fromCoinToBTC(str.capital, str.current_initial_price) : fromCoinToBTC(str.capital, str.sell_price) , calculateCurrentCapital(str.current_capital ,str.coin_pair, str), str.current_status, str) : 0}}%\n              </span>\n            </div>\n            <div id=\"70\" class=\"carousel-item\" [ngClass]=\"{'active' : 7 === reloaded}\">\n              <br> <span>{{str.order_type !== 'single' ? str.buy_price.toFixed(8): '-'}}</span>\n            </div>\n            <div id=\"80\" class=\"carousel-item\" [ngClass]=\"{'active' : 8 === reloaded}\">\n              <br> <span>{{str.sell_price.toFixed(8)}}</span>\n            </div>\n            <div id=\"90\" class=\"carousel-item\" [ngClass]=\"{'active' : 9 === reloaded}\">\n              <br> <span>{{str.date | date:'dd/MM/yyyy'}}</span>\n            </div>\n          </div>\n<!--          <a class=\"carousel-control-prev\" [href]=\"'  #carouselExampleControls' + $index\" role=\"button\" data-slide=\"prev\" >-->\n<!--            <span class=\"carousel-control-prev-icon  d-none\" aria-hidden=\"true\"></span>-->\n<!--            <span class=\"sr-only\">Previous</span>-->\n<!--          </a>-->\n<!--          <a class=\"carousel-control-next \" [href]=\"'#carouselExampleControls' + $index\" role=\"button\" data-slide=\"next\" >-->\n<!--            <span class=\"carousel-control-next-icon d-none\" aria-hidden=\"true\"></span>-->\n<!--            <span class=\"sr-only\">Next</span>-->\n<!--          </a>-->\n        </div>\n      </div>\n      </td>\n      <td class=\"hidden-column showD\">{{str.coin_pair}}</td>\n      <td class=\"hidden-column showD\">{{showInitialCapital(str)}}</td>\n      <td class=\"hidden-column showD\">{{calculateSelledCapital(str.capital, str.sell_price, str.current_capital,str.buy_price,str.current_status, str.isBtcCapital)}}</td>\n      <td class=\"hidden-column showD text-center\">{{str.order_type !== 'single' ? calculateDelta( str.isBtcCapital ? str.transactions[0] && str.transactions[0].cumulative_quantity ? str.transactions[0].cumulative_quantity : str.capital : str.sell_price < str.current_initial_price ? fromCoinToBTC(str.capital, str.current_initial_price) : fromCoinToBTC(str.capital, str.sell_price), calculateSelledCapital(str.capital, str.sell_price, str.current_capital,str.buy_price,str.current_status, str.isBtcCapital), false , str) : 0}}%</td>\n      <td class=\"hidden-column showD text-center\">\n        <span *ngIf=\"isNumero(calculateCurrentCapital(str.current_capital ,str.coin_pair, str))\">{{calculateCurrentCapital(str.current_capital ,str.coin_pair, str)}}</span>\n        <div *ngIf=\"!isNumero(calculateCurrentCapital(str.current_capital ,str.coin_pair, str))\" class=\"spinner-grow\" role=\"status\">\n        <span class=\"sr-only\">Loading...</span>\n      </div>\n      </td>\n      <td class=\"hidden-column showD text-center\">\n        <span *ngIf=\"isNumero(calculateCurrentCapital(str.current_capital ,str.coin_pair, str))\">\n          {{str.order_type !== 'single' ? calculateDelta( str.isBtcCapital ? str.transactions[0] && str.transactions[0].cumulative_quantity ? str.transactions[0].cumulative_quantity : str.capital : str.sell_price < str.current_initial_price ? fromCoinToBTC(str.capital, str.current_initial_price) : fromCoinToBTC(str.capital, str.sell_price) , calculateCurrentCapital(str.current_capital ,str.coin_pair, str), str.current_status, str) : 0}}%\n        </span>\n        <div *ngIf=\"!isNumero(calculateCurrentCapital(str.current_capital ,str.coin_pair, str))\" class=\"spinner-grow\" role=\"status\">\n          <span class=\"sr-only\">Loading...</span>\n        </div>\n      </td>\n      <td class=\"hidden-column showD text-center\">{{str.order_type !== 'single' ? str.buy_price.toFixed(8): '-'}}</td>\n      <td class=\"hidden-column showD\">{{str.sell_price.toFixed(8)}}</td>\n      <td class=\"hidden-column showD\">{{str.date | date:'dd/MM/yyyy'}}</td>\n      <td class=\"showD d-none\">\n        <button (click)=\"openStopModal()\" class=\"btn\"\n                [ngClass]=\"{'btn-dark':str.status == 'ACTIVE','btn-success':str.status != 'ACTIVE'}\">\n          <span *ngIf=\"str.status == 'ACTIVE'\"><img width=\"20\" alt=\"pause\"\n                                                    src=\"assets/icons/pause-circle-solid.svg\"></span>\n          <span *ngIf=\"str.status != 'ACTIVE'\"><img width=\"20\" alt=\"play\"\n                                                    src=\"assets/icons/play-circle-solid.svg\"></span>\n        </button>\n      </td>\n      <td class=\"showD d-none\">\n        <button class=\"btn btn-danger\" (click)=\"openCancelModal()\">\n          <img alt=\"stop\" src=\"assets/icons/stop-circle-solid.svg\" width=\"20\">\n        </button>\n      </td>\n      <td class=\"nTransactions text-center showD\"> {{str.order_type !== 'single' ? calculateTransactions(str, str.status ,str.transactions, str.transactions.length) : '-'}} <span *ngIf=\"str.current_status === 'SELL' && str.status === 'STOP'\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"A transazione conclusa\">*</span></td>\n    </tr>\n  </table>\n\n</div>\n\n<modal id=\"edit-modal\" #detailsModal>\n  <div class=\"app-modal-header\"><h3>Dettagli: </h3></div>\n  <div class=\"app-modal-body\" *ngIf=\"checkMobileData\">\n    <p>{{checkMobileData.name}}</p>\n    <p>{{checkMobileData.coin_pair}}</p>\n    <p>{{checkMobileData.capital}}</p>\n    <p>{{checkMobileData.capital}}</p>\n    <p>{{checkMobileData.buy_price.toFixed(8)}}</p>\n    <p>{{checkMobileData.sell_price.toFixed(8)}}</p>\n    <p>{{checkMobileData.date}}</p>\n  </div>\n</modal>\n<modal id=\"stop-modal\" #stopModal>\n  <div class=\"app-modal-header\"><h3>STOP </h3></div>\n  <div class=\"app-modal-body\">\n    <div class=\"text-center\">\n      <h2 *ngIf=\"stopData\"><span *ngIf=\"stopData.status === 'ACTIVE'\">Stai fermando</span> <span\n        *ngIf=\"stopData.status !== 'ACTIVE'\">Stai riavviando</span>  {{stopData.name}}</h2>\n      <h2>Conferma !!</h2>\n    </div>\n    <button data-dismiss=\"modal\" class=\"btn btn-danger float-left\" (click)=\"closeStop()\">CHIUDI</button>\n    <button data-dismiss=\"modal\" class=\"btn start-btn float-right\" (click)=\"updateStrategy(stopData.name,stopData.status)\">\n      CONTINUA\n    </button>\n  </div>\n</modal>\n<modal id=\"cancel-modal\" #cancelModal>\n  <div class=\"app-modal-header\"><h3>CANCEL </h3></div>\n  <div class=\"app-modal-body\">\n    <div class=\"text-center\">\n      <h2 *ngIf=\"stopData\">\n        <span>Stai cancellando la strategia</span>\n        {{stopData.name}}</h2>\n      <h2>Conferma !!</h2>\n    </div>\n    <button data-dismiss=\"modal\" class=\"btn btn-danger\" (click)=\"closeCancel()\">CHIUDI</button>\n    <button data-dismiss=\"modal\" class=\"btn start-btn float-right\"\n            (click)=\"cancelStrategy(stopData.order_id , stopData.coin_pair, stopData.name)\">\n      CONTINUA\n    </button>\n  </div>\n</modal>\n<modal id=\"transaction-modal\" #transactionsModal>\n  <div class=\"app-modal-header\"><h3>TRANSAZIONI</h3></div>\n  <div class=\"app-modal-body\">\n    <div class=\"text-center\" *ngIf=\"stopData\">\n      Strategia: <strong>{{stopData.name}}</strong>\n      <div>\n        <table class=\"table-responsive-lg  \">\n          <tr>\n            <th>Id dell' Ordine</th>\n            <th>Tipo</th>\n            <th>Data</th>\n            <th>Quantità</th>\n            <th>Stato Ordine</th>\n            <th>Pausa Ordine</th>\n            <th>Ferma Ordine</th>\n          </tr>\n          <tr *ngFor=\"let tr of stopData.transactions; let lst = last\">\n            <td>{{tr.order_id}}</td>\n            <td>{{tr.type_transaction}}</td>\n            <td>{{parseDate(tr.date)  }}</td>\n            <td>{{tr.quantity ? tr.quantity : 'fake'}}</td>\n            <td>\n              <button *ngIf=\"lst\" class=\"btn btn-dark w-100\"\n                      (click)=\"getSpecificStatus(tr.order_id,stopData.coin_pair)\">STATO\n              </button>\n            </td>\n            <td>\n              <button *ngIf=\"lst\" (click)=\"openStopModal()\" class=\"btn w-100\"\n                      [ngClass]=\"{'btn-dark':stopData.status == 'ACTIVE','btn-success':stopData.status != 'ACTIVE'}\">\n          <span *ngIf=\"stopData.status == 'ACTIVE'\"><img width=\"20\" alt=\"pause\"\n                                                         src=\"assets/icons/pause-circle-solid.svg\"></span>\n                <span *ngIf=\"stopData.status != 'ACTIVE'\"><img width=\"20\" alt=\"play\"\n                                                               src=\"assets/icons/play-circle-solid.svg\"></span>\n              </button>\n            </td>\n            <td>\n              <button *ngIf=\"lst\" class=\"btn btn-danger w-100\"\n                      (click)=\"openCancelModal()\">\n                <img alt=\"stop\"\n                     src=\"assets/icons/stop-circle-solid.svg\"\n                     width=\"20\">\n              </button>\n            </td>\n          </tr>\n          <tr *ngIf=\"stopData.transactions.length === 0\">\n            <td></td>\n            <td></td>\n            <td colspan=\"3\">\n              <button class=\"btn btn-danger\" (click)=\"deleteFromDb(stopData.name)\">CANCELLA STRATEGIA</button>\n            </td>\n            <td></td>\n            <td></td>\n          </tr>\n        </table>\n      </div>\n      <button data-dismiss=\"modal\" class=\"btn btn-danger mt-3 w-100\" (click)=\"closeTransaction()\">CHIUDI</button>\n    </div>\n  </div>\n</modal>\n<modal id=\"multiple-action\" #multipleAction>\n  <div class=\"app-modal-header\"><h3>Azione multipla : </h3></div>\n  <div class=\"app-modal-body \" *ngIf=\"selectedStrategy\">\n    <h3 class=\"text-center\"> Stai eseguendo una {{multipleType === 'pp' ? 'PLAY/PAUSE' : 'CANCELLAZIONE'}} multipla per le seguenti startegie:</h3>\n    <ul class=\"text-center\">\n      <li style=\"  list-style-type: none;\" *ngFor=\"let s of selectedStrategy\">{{s.nm}}</li>\n    </ul>\n    <h2 class=\"text-center\">Conferma !!</h2>\n    <button data-dismiss=\"modal\" class=\"btn btn-danger\" (click)=\"closeMultiple()\" >CHIUDI</button>\n    <button data-dismiss=\"modal\" class=\"btn start-btn float-right\" (click)=\"manageMultipleAction(multipleType)\" >CONTINUA</button>\n  </div>\n</modal>\n","import {AfterViewInit, Component, EventEmitter, OnDestroy, OnInit, Output, ViewChild} from '@angular/core';\nimport {AuthService} from '../../core/services/auth.service';\nimport {Router} from '@angular/router';\nimport {ActionService} from '../../core/services/action.service';\n\nimport $ from 'jquery';\nimport {ModalComponent} from '../../shared/modal/modal.component';\nimport {SharingService} from \"../../core/services/sharing.service\";\n\ndeclare const TradingView: any;\n\n\n@Component({\n  selector: 'travel-component',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss'],\n})\nexport class HomeComponent implements OnInit, OnDestroy, AfterViewInit {\n  @Output() valueChange = new EventEmitter();\n  @ViewChild('walletModal') walletModal: ModalComponent;\n  @ViewChild('chartModal') chartModal: ModalComponent;\n  public user: any;\n  public updatedAt: any;\n  public updateBalance: any;\n  public isOpen = true;\n  public balances: any;\n  public isLightMode = true;\n\n  // public datePause: any;\n\n  constructor(public authService: AuthService,\n              public actionService: ActionService,\n              public sharingService: SharingService,\n              private router: Router) {\n\n    this.getBalance();\n    this.updatedAt = new Date();\n    this.user = this.authService.user;\n    if (localStorage.getItem('cssmode') ){\n\n      this.isLightMode =  localStorage.getItem('cssmode') === 'light'  ;\n    }\n    // document.addEventListener(\"visibilitychange\", () => {\n    //   if (document.visibilityState === 'visible') {\n    //    console.log('entro');\n    //     if (Date.now() - this.datePause > 10000) {\n    //       alert('fuoru');\n    //     }\n    //   } else {\n    //     this.datePause = Date.now();\n    //     console.log('prendo tempo')\n    //   }\n    // });\n  }\n\n  ngOnInit() {\n    this.updateBalance = setInterval(() => {\n      this.getBalance();\n      this.updatedAt = new Date();\n    }, 31000);\n  }\n\n  ngAfterViewInit() {\n\n    new TradingView.widget(\n      {\n        autosize: true,\n        symbol: 'BINANCE:BTCUSDT',\n        interval: 'D',\n        timezone: 'Etc/UTC',\n        theme: 'dark',\n        style: '1',\n        locale: 'it',\n        toolbar_bg: '#f1f3f6',\n        enable_publishing: false,\n        allow_symbol_change: true,\n        container_id: 'map'\n      }\n    );\n  }\n\n  ngOnDestroy() {\n    clearInterval(this.updateBalance);\n  }\n\n\n\n\n  setModeCss() {\n    this.isLightMode = !this.isLightMode;\n    this.sharingService.notifyOther({value: this.isLightMode});\n    if (this.isLightMode) {\n      localStorage.setItem('cssmode', 'light');\n    } else {\n      localStorage.setItem('cssmode', 'dark');\n    }\n\n  }\n\n  openWallet() {\n    this.getAllBalances();\n    this.walletModal.show('modal-sm');\n\n  }\n  openChart() {\n    this.chartModal.show('modal-xl');\n\n  }\n\n  getAllBalances() {\n    this.actionService.getAllBalances().subscribe((resp) => {\n      this.balances = resp;\n    });\n  }\n\n  closeWallet() {\n    this.walletModal.dismiss();\n  }\n\n  closeChart() {\n    this.chartModal.dismiss();\n  }\n\n  getBalance() {\n    this.actionService.getBtcBalance().subscribe();\n  }\n\n  parseDate(date: any) {\n    const data = new Date(date);\n    // tslint:disable-next-line:max-line-length\n    return (data.getHours() < 10 ? '0' + data.getHours() : data.getHours()) + ':' + (data.getMinutes() < 10 ? '0' + data.getMinutes() : data.getMinutes()) + ':' + (data.getSeconds() < 10 ? '0' + data.getSeconds() : data.getSeconds()) + ' | ' +  data.getDate() + '-' + (data.getMonth() + 1) + '-' + data.getFullYear();\n  }\n\n\n  balanceWoFees(bal: any, tax: any) {\n    return (bal - tax).toFixed(8);\n  }\n\n  calculateFees(value: any) {\n    const tax = value - ((value / 100) * 0.1);\n    return (value - tax).toFixed(8);\n  }\n\n  openMenu() {\n    $(document).ready(() => {\n\n\n      $('#sidebar').toggleClass('active');\n      this.isOpen = !this.isOpen;\n    });\n\n\n  }\n}\n\n","<div class=\"site-wrapper\">\n  <header class=\"navbar-crypto \" [ngClass]=\"{'light':isLightMode,'dark': !isLightMode}\">\n    <nav class=\"navbar  navbar-expand-md\">\n      <a class=\"navbar-brand\" href=\"#\">Ciao <span class=\"text-capitalize\">{{user}} </span></a>\n      <label class=\"switch\">\n        <input type=\"checkbox\" [checked]=\"isLightMode\" (change)=\"setModeCss()\">\n        <span class=\"slider round\"></span>\n        <span class=\"absolute-no\">\n          <img src=\"assets/icons/sun-solid.svg\" width=\"28\">\n        </span>\n      </label>\n      <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarCollapse\"\n              aria-controls=\"navbarCollapse\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"><img alt=\"\" width=\"24\" src=\"assets/icons/bars-solid.svg\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse mobile-menu\" [ngClass]=\"{'light':isLightMode,'dark': !isLightMode}\" id=\"navbarCollapse\" >\n        <div class=\"pr-3 balance ml-1\" >\n          <div style=\"font-size: 17px\">\n            <span class=\"navbar-recap\" (click)=\"openChart()\">\n              <span class=\"wallet\">\n\n               <img data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Grafico\" alt=\"\" width=\"18\" class=\"pointer\" src=\"../../../assets/icons/chart-line-solid.svg\">\n              </span>\n            </span>\n            <span  class=\"navbar-recap\" >\n              <span class=\"wallet\">\n               <img alt=\"\"  class=\"pointer\" src=\"../../../assets/icons/wallet-solid.svg\" width=\"18\" (click)=\"openWallet()\">\n              </span>\n            </span>\n            <!--          <img *ngIf=\"!isLightMode\" class=\"pointer\" src=\"../../../assets/icons/wallet-solid-dark.svg\" width=\"18\" (click)=\"openWallet()\">-->\n           <span class=\"navbar-recap\">\n            <img data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Ultimo aggiornamento\" alt=\"\" width=\"32\" src=\"../../../assets/icons/clock-solid.svg\"> {{parseDate(updatedAt)}}\n           </span>\n           <span class=\"navbar-recap\">\n               <img src=\"../../../assets/icons/bitcoin-brand-custom.svg\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Bilancio BTC\" alt=\"\" width=\"32\"> {{actionService.balanceBtc}} BTC\n               <span id=\"no-tax\"> - <strong>SENZA TASSE:</strong> {{balanceWoFees(actionService.balanceBtc, calculateFees(actionService.balanceBtc))}} BTC</span>\n<!--            | <strong>TASSE:</strong> {{calculateFees(actionService.balanceBtc)}}-->\n           </span>\n          </div>\n        </div>\n        <div class=\"d-sm-block d-md-none\">\n          <ul class=\"nav flex-column\">\n            <li class=\"nav-item\">\n              <a class=\"nav-link mobile\" data-target=\".navbar-collapse.show\" data-toggle=\"collapse\"\n                 [routerLink]=\"['dashboard']\"><img width=\"22\" src=\"assets/icons/tachometer-alt-solid.svg\"><span>  Riepilogo</span></a>\n            </li>\n            <li class=\"nav-item\">\n              <a class=\"nav-link mobile\" data-target=\".navbar-collapse.show\" data-toggle=\"collapse\"\n                 [routerLink]=\"['strategies']\"><img width=\"22\" src=\"assets/icons/tasks-solid.svg\">\n                <span>  Strategie</span></a>\n            </li>\n            <li class=\"nav-item\" *ngIf=\"authService.role === 'admin'\">\n              <a class=\"nav-link mobile\" data-target=\".navbar-collapse.show\" data-toggle=\"collapse\"\n                 [routerLink]=\"['indicators']\"><img width=\"22\" src=\"assets/icons/chart-line-solid-b.svg\">\n                <span>  Proiezioni</span></a>\n            </li>\n            <li class=\"nav-item\" *ngIf=\"authService.role === 'admin' && (authService.user === 'Misi862' || authService.user === 'mattia88')\">\n              <a class=\"nav-link mobile\" data-target=\".navbar-collapse.show\" data-toggle=\"collapse\"\n                 [routerLink]=\"['vault']\"><img width=\"22\" src=\"assets/icons/lock-solid.svg\">\n                <span>  Vault</span></a>\n            </li>\n            <li class=\"nav-item\">\n              <a class=\"nav-link mobile\" data-target=\".navbar-collapse.show\" data-toggle=\"collapse\"\n                 [routerLink]=\"['settings']\"><img width=\"22\" src=\"assets/icons/folder-open-solid.svg\">\n                <span>  Opzioni</span></a>\n            </li>\n          </ul>\n        </div>\n        <button class=\"btn btn-lg d-sm-block d-md-none\" (click)=\"authService.logout()\">\n          <span>\n         <img src=\"../../../assets/icons/sign-out-alt-solid.svg\" width=\"24\" alt=\"logout\">\n          </span>\n        </button>\n      </div>\n    </nav>\n  </header>\n  <main role=\"main\" class=\"main-content container-fluid\" [ngClass]=\"{'light':isLightMode,'dark': !isLightMode}\">\n    <div >\n      <div id=\"sidebar\" class=\"side-menu\">\n        <div (click)=\"openMenu()\"  class=\"profile-img pointer\">\n          <img data-toggle=\"tooltip\" data-placement=\"top\" title=\"Apri/Chiudi Menu\" [width]=\"isOpen ? '135' : '30' \" src=\"assets/bitcoin-brands.svg\">\n        </div>\n        <ul class=\"nav flex-column\">\n          <li class=\"nav-item\">\n            <a data-toggle=\"tooltip\" data-placement=\"top\" title=\"Riepilogo\" class=\"nav-link  text-white\" [routerLink]=\"['dashboard']\">\n                <img alt=\"riepilogo\" width=\"22\" src=\"assets/icons/tachometer-alt-solid.svg\">\n             <span class=\"ml-1\">Riepilogo</span> </a>\n          </li>\n          <li class=\"nav-item\">\n            <a data-toggle=\"tooltip\" data-placement=\"top\" title=\"Strategie\" class=\"nav-link  text-white\" [routerLink]=\"['strategies']\">\n                <img alt=\"strategie\" width=\"22\"  src=\"assets/icons/tasks-solid.svg\">\n              <span class=\"ml-1\">Strategie</span></a>\n          </li>\n          <li class=\"nav-item\" *ngIf=\"authService.role === 'admin'\">\n            <a data-toggle=\"tooltip\" data-placement=\"top\" title=\"Calcoli\" class=\"nav-link  text-white\" [routerLink]=\"['indicators']\">\n              <img alt=\"opzioni\" width=\"22\" src=\"assets/icons/chart-line-solid-b.svg\">\n              <span class=\"ml-1\">Proiezioni</span></a>\n          </li>\n          <li class=\"nav-item\" *ngIf=\"authService.role === 'admin' && (authService.user === 'Misi862' || authService.user === 'mattia88')\">\n            <a data-toggle=\"tooltip\" data-placement=\"top\" title=\"Vault\" class=\"nav-link  text-white\" [routerLink]=\"['vault']\">\n              <img alt=\"vault\" width=\"22\" src=\"assets/icons/lock-solid.svg\">\n              <span class=\"ml-1\">Vault</span></a>\n          </li>\n          <li class=\"nav-item\">\n            <a data-toggle=\"tooltip\" data-placement=\"top\" title=\"Opzioni\" class=\"nav-link  text-white\" [routerLink]=\"['settings']\">\n                <img alt=\"opzioni\" width=\"22\" src=\"assets/icons/folder-open-solid.svg\">\n              <span class=\"ml-1\">Opzioni</span></a>\n          </li>\n          <li class=\"nav-item logout\">\n            <button data-toggle=\"tooltip\" data-placement=\"top\" title=\"Log Out\"  class=\"btn btn-lg\" (click)=\"authService.logout()\">\n             <img src=\"../../../assets/icons/sign-out-alt-solid.svg\" width=\"24\" alt=\"logout\">\n<!--              <span style=\"font-size: 16px\" class=\"pl-1 text-white font-\">Log Out</span>-->\n            </button>\n          </li>\n        </ul>\n      </div>\n      <div class=\"sides\" [ngStyle]=\"{'padding-left': isOpen ? '170px':'65px'}\">\n        <router-outlet></router-outlet>\n      </div>\n    </div>\n\n  </main>\n</div>\n<modal #walletModal  [ngClass]=\"{'light':isLightMode,'dark': !isLightMode}\">\n  <div class=\"app-modal-header\">\n    <h3>Portafoglio</h3>\n  </div>\n  <div class=\"app-modal-body\">\n    <ul>\n      <li *ngFor=\"let b of balances\">\n       <strong>{{b.pair}}:</strong> {{b.available}}\n      </li>\n    </ul>\n    <button data-dismiss=\"modal\" class=\"btn btn-danger float-left w-100\" (click)=\"closeWallet()\">CHIUDI</button>\n  </div>\n</modal>\n\n<modal #chartModal  [ngClass]=\"{'light':isLightMode,'dark': !isLightMode}\">\n  <div class=\"app-modal-header\">\n    <h3>Grafico</h3>\n  </div>\n  <div class=\"app-modal-body\">\n    <div class=\"tradingview-widget-container\" >\n      <div id=\"map\"></div>\n    </div>\n    <button data-dismiss=\"modal\" class=\"btn btn-danger float-left w-100 mt-3\" (click)=\"closeChart()\">CHIUDI</button>\n  </div>\n</modal>\n","import {AuthService} from '../../core/services/auth.service';\nimport {CanActivate, Router} from '@angular/router';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class HomeGuard  implements CanActivate{\n  constructor(private authService: AuthService,\n              private router: Router) {}\n\n  canActivate() {\n    if (this.authService.token){\n      return true;\n    } else {\n      return this.router.createUrlTree(['auth']);\n    }\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {AuthenticationRoutingModule} from './home.routing';\nimport {HomeComponent} from './home.component';\nimport {DashboardComponent} from './dashboard/dashboard.component';\nimport {NotFoundComponent} from './404/404.component';\nimport {HomeGuard} from './home.guard';\nimport {IndicatorsComponent} from './indicators/indicators.component';\nimport {StrategiesComponent} from './strategies/strategies.component';\nimport {SettingsComponent} from './settings/settings.component';\nimport {CommonModule} from '@angular/common';\nimport {ModalComponent} from '../../shared/modal/modal.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {AlertComponent} from '../../shared/alert/alert.component';\nimport {NgxSliderModule} from '@angular-slider/ngx-slider';\nimport {NgxChartsModule} from '@swimlane/ngx-charts';\nimport {NgbDatepickerModule} from '@ng-bootstrap/ng-bootstrap';\nimport {IndicatorsGuard} from './indicators/indicators.guard';\nimport {VaultComponent} from './vault/vault.component';\n// import {BarChartModule} from \"@swimlane/ngx-charts\";\n// import {Ng5SliderModule} from 'ng5-slider';\n// import {BrowserModule} from \"@angular/platform-browser\";\n// import {HttpClientModule} from \"@angular/common/http\";\n\n\n@NgModule({\n    imports: [\n        AuthenticationRoutingModule,\n        CommonModule,\n        ReactiveFormsModule,\n        FormsModule,\n        NgxSliderModule,\n        NgxChartsModule,\n        NgbDatepickerModule,\n        // BarChartModule,\n        // BrowserModule,\n        // HttpClientModule,\n    ],\n  providers: [HomeGuard, IndicatorsGuard],\n  declarations: [\n    HomeComponent,\n    DashboardComponent,\n    IndicatorsComponent,\n    StrategiesComponent,\n    VaultComponent,\n    SettingsComponent,\n    NotFoundComponent,\n    ModalComponent,\n    AlertComponent,\n    // NgxSliderModule,\n\n  ],\n  exports: [\n    ModalComponent,\n    AlertComponent,\n    // NgxSliderModule,\n  ]\n})\nexport class HomeModule {\n\n}\n","import {RouterModule, Routes} from '@angular/router';\nimport {HomeComponent} from './home.component';\nimport {NgModule} from '@angular/core';\nimport {DashboardComponent} from './dashboard/dashboard.component';\nimport {HomeGuard} from './home.guard';\nimport {IndicatorsComponent} from './indicators/indicators.component';\nimport {StrategiesComponent} from './strategies/strategies.component';\nimport {SettingsComponent} from './settings/settings.component';\nimport {IndicatorsGuard} from './indicators/indicators.guard';\nimport {VaultComponent} from \"./vault/vault.component\";\n\n\nconst routes: Routes = [\n  {\n    path: '', component: HomeComponent, canActivate: [HomeGuard],\n    children: [\n      {path: '', redirectTo: 'dashboard', pathMatch: 'full'},\n      {\n        path: 'dashboard',\n        component: DashboardComponent\n      }\n      ,\n      {\n        path: 'indicators',\n        component: IndicatorsComponent,\n        canActivate: [IndicatorsGuard]\n      }\n      ,\n      {\n        path: 'vault',\n        component: VaultComponent,\n        canActivate: [IndicatorsGuard]\n      }\n      , {\n      path: 'strategies',\n        component: StrategiesComponent\n      }\n      ,\n      {\n      path: 'settings',\n        component: SettingsComponent\n      }\n    ],\n  }\n];\n\n\n@NgModule({\n  exports: [RouterModule],\n  imports: [RouterModule.forChild(routes)]\n})\nexport class AuthenticationRoutingModule {\n\n\n}\n\n","import {AfterViewInit, ChangeDetectorRef, Component, OnInit, ViewChild} from '@angular/core';\nimport * as _ from 'lodash';\nimport {ActionService} from '../../../core/services/action.service';\nimport {NgxChartsModule} from '@swimlane/ngx-charts';\nimport {SharingService} from '../../../core/services/sharing.service';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {NgbDate, NgbCalendar} from '@ng-bootstrap/ng-bootstrap';\nimport {ModalComponent} from '../../../shared/modal/modal.component';\nimport {AlertService} from '../../../shared/alert/alert.service';\nimport Utils from '../../../shared/Utils';\n@Component({\n  selector: 'indicators-component',\n  templateUrl: './indicators.component.html',\n  styleUrls: ['./indicators.component.scss'],\n})\n\n\nexport class IndicatorsComponent implements OnInit, AfterViewInit {\n  @ViewChild('addModal') addModal: ModalComponent;\n  @ViewChild('removeModal') removeModal: ModalComponent;\n  public candles = [];\n  public strategies = [];\n  public indicatorForm: FormGroup;\n  public candlesticks: any;\n  public candlesticksShown: any;\n  public initialCap: any;\n  public finalCap: any;\n  public finalCapTaxed: any;\n  public pairs = [];\n  public capitalss: any;\n  public priceBtc: number;\n  public from: any;\n  public to: any;\n  private activeList = Utils.getList();\n  public totalGiri = 0;\n  public parsedData = [];\n  colorScheme = {\n    domain: ['#A93F63', '#5AA454', '#AAAAAA']\n  };\n  public color: any;\n  public monitoredPairs = [];\n  public pairM: any;\n  public pairToRemove: any;\n  public projections = [];\n  public filteredProjections = [];\n  public pairToShow = [];\n  public pairToShown: any;\n  public minDates: any;\n  public toDay: any;\n  public timeBefore: any;\n  public showCandleSelected: any;\n  public fromProjection: any;\n  public toProjection: any;\n  public salti: string;\n  public filters = [];\n  public topPerformer = [];\n  public aWeekAgo: any;\n  public rowToShow = 12;\n  public countProjections: any;\n  public fromTop: any;\n  public toTop: any;\n  public bestLast = [];\n  public laddaBest = false;\n  public perCentStrategy = 20;\n  public selectedProjections = [];\n\n  constructor(public actionService: ActionService,\n              private fb: FormBuilder,\n              private cdFref: ChangeDetectorRef,\n              public alertService: AlertService,\n              private sharingService: SharingService,\n              public calendar: NgbCalendar) {\n\n    this.color = localStorage.getItem('cssmode') === 'light';\n\n    this.indicatorForm = this.fb.group({\n      indicator_cap: [1000, Validators.required],\n      indicator_n_strat: ['', Validators.required],\n      indicator_price: ['', [Validators.required]],\n      indicator_satoshi: ['1', Validators.required],\n      indicator_pair: ['', Validators.required],\n      indicator_timeframe: ['1h', Validators.required],\n      indicator_from: ['', Validators.required],\n      indicator_to: ['', Validators.required]\n    });\n  }\n\n  ngOnInit() {\n    this.actionService.getBtcPrice().subscribe();\n\n    this.sharingService.notifyObservable$.subscribe((res) => {\n      if (res.hasOwnProperty('value')) {\n        this.color = res.value;\n      }\n    });\n    this.getPairs();\n    this.getProjections();\n    this.setDates();\n    this.manageTopPerformer();\n\n    this.pairToShown = 'all';\n    this.salti = 'all';\n    this.fromProjection = this.minDates;\n    this.toProjection = this.toDay;\n    this.filters = [\n      {name: 'pair', val: this.pairToShown},\n      {name: 'jumps', val: this.salti},\n      {name: 'from', val: this.minDates},\n      {name: 'to', val: this.toDay}];\n  }\n\n  ngAfterViewInit() {\n    this.actionService.getBtcPrice().subscribe();\n    this.loadPairs();\n    this.cdFref.detectChanges();\n  }\n\n  // PROIEIZIONI\n\n  loadPrice() {\n    const value = this.formValue.indicator_pair.value;\n    if (this.pairs.length > 0) {\n      _.forEach(this.pairs, (o) => {\n        if (o.name === value) {\n          this.formValue.indicator_price.setValue(o.price.toFixed(8));\n        }\n      });\n    }\n  }\n\n  loadPairs() {\n    this.actionService.getAllPairs().subscribe((resp) => {\n      const result = _.filter(resp, (o) => {\n        return o.price <= 0.00001;\n      });\n      this.pairs = [];\n      _.forEach(this.activeList, (o) => {\n\n        _.forEach(result, (p) => {\n          if (o.pair === p.name) {\n            this.pairs.push(p);\n          }\n        });\n      });\n    });\n  }\n\n  load() {\n    this.createWindow();\n    this.createStrategies(this.formValue.indicator_n_strat.value, parseFloat(this.formValue.indicator_price.value));\n    if (this.formValue.indicator_pair.value !== '') {\n      _.forEach(this.strategies, (s) => {\n        s.countB = 0;\n        s.countS = 0;\n        delete s.total;\n      });\n      // tslint:disable-next-line:max-line-length\n      this.actionService.getCandleStick(this.formValue.indicator_pair.value, this.formValue.indicator_timeframe.value, this.timeBefore).subscribe((resp) => {\n        const ticks = [];\n        _.forEach(resp.ticks, (t) => {\n          ticks.push({date: new Date(t[0]).toLocaleString('it-IT'), high: t[2], low: t[3], close: t[4], opens: t[1]});\n        });\n        this.candlesticks = ticks.slice(0, this.showCandleSelected);\n        this.candlesticksShown = ticks.slice(0, this.showCandleSelected);\n        // console.log(this.candlesticksShown)\n      });\n    }\n\n\n  }\n\n  createStrategies(num: any, price: any) {\n    // tslint:disable-next-line:prefer-for-of\n    const tempArray = [];\n    let jump;\n    switch (this.formValue.indicator_satoshi.value) {\n      case '1':\n        jump = 1e-8;\n        break;\n      case '2':\n        jump = 2e-8;\n        break;\n      case '3':\n        jump = 3e-8;\n        break;\n      case '4':\n        jump = 4e-8;\n        break;\n      default:\n        jump = 1e-8;\n    }\n    for (let i = 0; i < num; i++) {\n      // tslint:disable-next-line:max-line-length\n      tempArray.push({\n        buy: parseFloat((price + (jump * i)).toFixed(8)),\n        sell: parseFloat(((price + (jump * i)) + jump).toFixed(8)),\n        isBuyed: false,\n        countS: 0,\n        countB: 0\n      });\n    }\n    this.strategies = tempArray;\n  }\n\n  calculateBuy(id) {\n    // do calculation and set isBuyed to true;\n    this.strategies[id].countB++;\n    this.strategies[id].isBuyed = true;\n\n  }\n\n  calculateSell(id) {\n    // do calculation and set isBuyed to false;\n    this.strategies[id].countS++;\n    this.strategies[id].isBuyed = false;\n  }\n\n  calculateFees(value: any) {\n    const tax = ((value / 100) * 0.1);\n    return (value - tax);\n  }\n\n  calculateDelta(p1: any, p2: any) {\n    const temp = (p2 - p1) / p1;\n    return (temp * 100).toFixed(2);\n  }\n\n  start() {\n\n    // tslint:disable-next-line:prefer-for-of\n    for (let i = 0; i < this.candlesticks.length; i++) {\n      for (let j = 0; j < this.strategies.length; j++) {\n        if (this.strategies[j].buy > this.candlesticks[i].low &&\n          !this.strategies[j].isBuyed) {\n          this.calculateBuy(j);\n        }\n        if (this.strategies[j].sell < this.candlesticks[i].high &&\n          this.strategies[j].isBuyed) {\n          this.calculateSell(j);\n        }\n        if (this.strategies[j].buy > this.candlesticks[i].close &&\n          this.strategies[j].buy < this.candlesticks[i].high &&\n          !this.strategies[j].isBuyed) {\n          this.calculateBuy(j);\n        }\n        if (this.strategies[j].sell < this.candlesticks[i].close &&\n          this.strategies[j].sell > this.candlesticks[i].low &&\n          this.strategies[j].isBuyed) {\n          this.calculateSell(j);\n        }\n      }\n\n    }\n    this.calculateData();\n  }\n\n  calculateData() {\n    // do the math here based on timeframe\n    this.actionService.getBtcPrice().subscribe();\n    const price = this.actionService.priceBtc;\n    this.priceBtc = this.actionService.priceBtc;\n    if (price) {\n      _.forEach(this.strategies, (d, i) => {\n        let capital = parseFloat((this.formValue.indicator_cap.value / price).toFixed(8));\n        if ((d.countB === d.countS && d.countB !== 0) || (d.countB > d.countS && d.countB !== 0 && d.countS !== 0)) {\n          let capitalTaxed = 0;\n          // tslint:disable-next-line:no-shadowed-variable\n          for (let i = 0; i < d.countS; i++) {\n            const buy = Math.floor(capital / d.buy);\n            const buyTaxed = this.calculateFees(buy);\n            capital = buy * d.sell;\n            capitalTaxed = buyTaxed * d.sell;\n            capitalTaxed = this.calculateFees(capitalTaxed);\n          }\n          d.total = capital.toFixed(8);\n          d.totalTaxed = capitalTaxed.toFixed(8);\n        } else if (d.countB === 1 && d.countS === 0) {\n\n          const temp = Math.floor(capital / d.buy);\n          const tempT = this.calculateFees(temp);\n          d.total = (temp * d.buy).toFixed(8);\n          d.totalTaxed = (tempT * d.buy).toFixed(8);\n\n        } else {\n          d.total = capital;\n          d.totalTaxed = capital;\n        }\n      });\n\n      this.capitalss = parseFloat((this.formValue.indicator_cap.value / price).toFixed(8));\n      const inittial = (this.capitalss * this.strategies.length);\n      let result = 0;\n      let taxedResult = 0;\n      result = _.sumBy(this.strategies, (o) => {\n        return parseFloat(o.total);\n      });\n      taxedResult = _.sumBy(this.strategies, (o) => {\n        return parseFloat(o.totalTaxed);\n      });\n\n      const totalGiri = _.sumBy(this.strategies, (o) => {\n        return o.countS;\n      });\n      this.totalGiri = totalGiri;\n      this.initialCap = 0;\n      this.finalCap = 0;\n      this.finalCapTaxed = 0;\n      this.initialCap = (inittial * price).toFixed(2);\n      this.finalCap = (result * price).toFixed(2);\n      this.finalCapTaxed = (taxedResult * price).toFixed(2);\n      const dateFrom = _.last(this.candlesticks);\n      const dateTo = _.first(this.candlesticks);\n      this.from = dateFrom.date;\n      this.to = dateTo.date;\n      const t = [];\n      _.forEach(this.strategies, (s, i) => {\n        const name = s.buy.toFixed(8);\n        const nameF = s.sell.toFixed(8);\n        t.push(\n          {\n            name: name.slice(-3) + '-' + nameF.slice(-3),\n            series: [{name: 'buy', value: s.countB}, {name: 'sell', value: s.countS}]\n          }\n        );\n      });\n      this.parsedData = [...t];\n      this.candlesticks = null;\n    }\n  }\n\n  setDates() {\n    const date = new Date();\n    const d = new Date();\n    const w = new Date();\n    d.setMonth(d.getMonth() - 1);\n    w.setDate(w.getDate() - 7);\n\n    this.toDay = {year: date.getFullYear(), month: date.getMonth() + 1, day: date.getDate()};\n    this.minDates = {year: d.getFullYear(), month: d.getMonth() + 1, day: d.getDate()};\n    this.aWeekAgo = {year: w.getFullYear(), month: w.getMonth() + 1, day: w.getDate()};\n  }\n\n  createWindow() {\n    if (this.formValue.indicator_from.value !== '' && this.formValue.indicator_to.value !== '') {\n      // tslint:disable-next-line:max-line-length\n      this.timeBefore = 0;\n      this.showCandleSelected = 0;\n      const from = this.formValue.indicator_from.value.month + '/' + this.formValue.indicator_from.value.day + '/' + this.formValue.indicator_from.value.year;\n      // tslint:disable-next-line:max-line-length\n      const to = this.formValue.indicator_to.value.month + '/' + this.formValue.indicator_to.value.day + '/' + this.formValue.indicator_to.value.year;\n      const toDay = this.toDay.month + '/' + this.toDay.day + '/' + this.toDay.year;\n      const date1 = new Date(from);\n      const date2 = new Date(to);\n      const dateTo = new Date(toDay);\n      // @ts-ignore\n      const diffTime = Math.abs(date2 - date1);\n      // @ts-ignore\n      const diffTimeT = Math.abs(dateTo - date1);\n      const diffDays = (Math.ceil(diffTime / (1000 * 60 * 60 * 24)));\n      // tslint:disable-next-line:max-line-length\n      this.timeBefore = this.formValue.indicator_timeframe.value === '1h' ? (Math.ceil(diffTimeT / (1000 * 60 * 60 * 24))) * 24 : (Math.ceil(diffTimeT / (1000 * 60 * 60 * 24))) + 1;\n      this.showCandleSelected = this.formValue.indicator_timeframe.value === '1h' ? diffDays * 24 : diffDays + 1;\n    }\n  }\n\n  get formValue() {\n    return this.indicatorForm.controls;\n  }\n\n  // MONITOR\n\n  setPairs() {\n    this.actionService.setPairToMonitor(this.pairM).subscribe(data => {\n      this.getPairs();\n      this.manageAddModal(false);\n    });\n  }\n\n  parseScenario(cases: any){\n      switch (cases) {\n        case 10:\n          return '+';\n        case  -5:\n          return '+/-';\n        case -10:\n          return '-';\n      }\n  }\n\n  calculateRecap(result: any, array: any, tot?: any, delta?: any){\n    let res = 0;\n    switch (result) {\n      case 'str':\n        res = _.sumBy(array , (a) => {\n          if ( a.number_strategies){\n            return a.number_strategies;\n          } else {\n            return 10;\n          }\n        });\n        return res;\n      case 'tot':\n        return array.length * 1000;\n      case 'delta':\n        res = _.sumBy(array, 'delta_taxed');\n        return (res / array.length).toFixed(2);\n      case 'taxed':\n\n        res = (tot / 100) * delta;\n        return res.toFixed(2);\n    }\n\n  }\n\n  getPairs() {\n    this.actionService.getPairMonitored().subscribe(data => {\n      this.monitoredPairs = data;\n      const narray = Math.ceil(this.monitoredPairs.length / 12);\n      const Arr = [];\n      for (let i = 0; i < narray; i++) {\n        Arr.push([]);\n      }\n      _.forEach(data, (p, j) => {\n        const i = Math.floor(j / 12);\n        if (j < (12 * (i + 1))) {\n          Arr[i].push(p);\n        }\n      });\n      this.monitoredPairs = Arr;\n    });\n  }\n\n  removePair() {\n    this.actionService.deletePairToMonitor(this.pairToRemove).subscribe(data => {\n      this.getPairs();\n      this.manageDeleteModal(false);\n    });\n\n  }\n\n  manageAddModal(action: boolean) {\n    if (action) {\n      this.addModal.show('modal-s');\n      return;\n    }\n    this.addModal.dismiss();\n  }\n\n  manageDeleteModal(action: boolean, pair?: any) {\n    if (action) {\n      this.pairToRemove = pair;\n      this.removeModal.show('modal-s');\n      return;\n    }\n    this.removeModal.dismiss();\n    this.pairToRemove = '';\n  }\n\n  getFiltered() {\n    const payload = this.filters;\n    _.forEach(payload, (f) => {\n      if (f.name === 'from' && _.isObject(f.val)) {\n        const fr = f.val.month + '/' + f.val.day + '/' + f.val.year;\n        f.val = fr;\n      }\n      if (f.name === 'to' && _.isObject(f.val)) {\n        const tr = f.val.month + '/' + (f.val.day) + '/' + f.val.year;\n        f.val = tr;\n      }\n    });\n    this.actionService.getFilteredProjections(0, this.rowToShow, payload).subscribe(data => {\n      this.filteredProjections = _.cloneDeep(data);\n      this.actionService.getProjectionCount(payload).subscribe( resp => {\n        this.countProjections = resp.count;\n      });\n    });\n  }\n\n  getProjections() {\n    this.actionService.getProjections().subscribe(data => {\n      this.projections = data;\n      _.forEach(data, (d) => {\n        this.pairToShow.push(d.pair);\n      });\n      this.pairToShow = _.uniq(this.pairToShow, 'pair');\n      this.filterProjections(this.filters);\n    });\n    this.actionService.getProjectionCount(this.filters).subscribe( resp => {\n      this.countProjections = resp.count;\n    });\n  }\n\n\n  manageTopPerformer(side?: boolean) {\n    // if (true){\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      const lastSunday = new Date(today.setDate(today.getDate() - today.getDay()));\n\n      if ( side != null ){\n        this.selectedProjections = [];\n        if ( !side ){\n          this.fromTop = new Date(decodeURIComponent(this.fromTop));\n          this.toTop = new Date(decodeURIComponent(this.toTop));\n          const bfrom = new Date(this.fromTop.setDate(this.fromTop.getDate() - 7));\n          this.fromTop = (bfrom.getMonth() + 1) + '%2F' + bfrom.getDate() + '%2F' + bfrom.getFullYear();\n          const bto = new Date(this.toTop.setDate( this.toTop.getDate() - 7));\n          this.toTop = (bto.getMonth() + 1) + '%2F' + bto.getDate() + '%2F' + bto.getFullYear();\n        } else {\n          this.fromTop = new Date(decodeURIComponent(this.fromTop));\n          this.toTop = new Date(decodeURIComponent(this.toTop));\n          const bfrom = new Date(this.fromTop.setDate(this.fromTop.getDate() + 7));\n          this.fromTop = (bfrom.getMonth() + 1) + '%2F' + bfrom.getDate() + '%2F' + bfrom.getFullYear();\n          const bto = new Date(this.toTop.setDate( this.toTop.getDate() + 7));\n          this.toTop = (bto.getMonth() + 1) + '%2F' + bto.getDate() + '%2F' + bto.getFullYear();\n        }\n        this.actionService.getTopProjections(this.fromTop, this.toTop).subscribe( top => {\n          this.topPerformer = _.uniqBy(top , 'pair').slice(0, 10);\n          // console.log(this.topPerformer)\n        });\n\n      }\n      else {\n\n        this.toTop = (lastSunday.getMonth() + 1) + '%2F' + lastSunday.getDate() + '%2F' + lastSunday.getFullYear();\n        const fromLast = _.cloneDeep(new Date(lastSunday.setDate(lastSunday.getDate() - 7)));\n        this.fromTop = (fromLast.getMonth() + 1) + '%2F' + fromLast.getDate() + '%2F' + fromLast.getFullYear();\n        this.actionService.getTopProjections(this.fromTop, this.toTop).subscribe( top => {\n          this.topPerformer = _.uniqBy(top , 'pair').slice(0, 10);\n        });\n      }\n    // }\n  }\n\n  getBestLast(){\n    this.actionService.getTopProjections(this.fromTop, this.toTop).subscribe( top => {\n\n      const payload = { projections: !this.selectedProjections.length ? this.topPerformer : this.selectedProjections,\n                        percentage_strategy_number: this.perCentStrategy};\n      this.laddaBest = true;\n      this.actionService.getLastBestProjections(this.fromTop, this.toTop, payload).subscribe( data => {\n        this.bestLast = data;\n        this.laddaBest = false;\n      }, err => {\n        this.bestLast = [];\n        this.alertService.addMessage('danger', err.message);\n        this.laddaBest = false;\n      });\n\n    });\n  }\n\n  addPairtoParse(pro: any, event: any){\n    if (event.target.checked ){\n      this.selectedProjections.push(pro);\n    }\n    else{\n      this.selectedProjections = _.remove(this.selectedProjections, (n) => {\n        return n.pair !== pro.pair;\n      });\n    }\n  }\n\n  filtersSelected(type: string, value: any) {\n\n    if (_.find(this.filters, {name: type})) {\n      this.filters = _.remove(this.filters, (o) => {\n        return o.name !== type;\n      });\n      this.filters.push({name: type, val: value});\n    } else {\n      this.filters.push({name: type, val: value});\n    }\n    this.getFiltered();\n  }\n\n  filterProjections(filter: any) {\n    let result = this.projections;\n    _.forEach(filter, (f) => {\n\n      if (f.name === 'from') {\n        const fr = new Date(f.val.month + '/' + f.val.day + '/' + f.val.year);\n        result = _.filter(result, (o) => {\n          return new Date(o.from) >= fr;\n        });\n      }\n      if (f.name === 'to') {\n        const tr = new Date(f.val.month + '/' + (f.val.day) + '/' + f.val.year);\n        result = _.filter(result, (o) => {\n          return new Date(o.to) <= tr;\n        });\n      }\n      if (f.name === 'pair' && f.val !== 'all') {\n        result = _.filter(result, {pair: f.val});\n      }\n      if (f.name === 'jumps' && f.val !== 'all') {\n        result = _.filter(result, {jumps: parseFloat(f.val)});\n      }\n\n    });\n\n    this.filteredProjections = result;\n  }\n\n  formatDate(date: any) {\n    const d = new Date(date);\n    return d.toLocaleString('it-IT');\n  }\n\n  loadRow(action: boolean) {\n    if (action) {\n      this.rowToShow += 12;\n      this.getFiltered();\n    } else {\n      this.rowToShow -= 12;\n      this.getFiltered();\n    }\n  }\n}\n\n","<h1 class=\"sub-header\">Proiezioni</h1>\n\n<ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n  <li class=\"nav-item\">\n    <a class=\"nav-link active\" id=\"home-tab\" data-toggle=\"tab\" href=\"#proiezioni\" role=\"tab\" aria-controls=\"proiezioni\" aria-selected=\"true\">Proiezioni</a>\n  </li>\n  <li class=\"nav-item\" >\n    <a class=\"nav-link\" id=\"profile-tab\" data-toggle=\"tab\" href=\"#monitor\" role=\"tab\" aria-controls=\"monitor\" aria-selected=\"false\">Monitor</a>\n  </li>\n</ul>\n<div class=\"tab-content\" id=\"myTabContent\">\n  <div class=\"tab-pane fade show active\" id=\"proiezioni\" role=\"tabpanel\" aria-labelledby=\"home-tab\">\n    <div class=\"mt-3 row\">\n      <div class=\"col-sm-5\">\n        <form [formGroup]=\"indicatorForm\" (ngSubmit)=\"load()\" novalidate>\n          <div class=\"row\">\n            <div class=\"form-group col-sm-6\">\n              <label for=\"cap\">Capitale per strategia $</label>\n              <input id=\"cap\" type=\"number\" class=\"form-control inputStr\" formControlName=\"indicator_cap\" >\n            </div>\n            <div class=\"form-group col-sm-6\">\n              <label for=\"n-strat\">Numero Strategie</label>\n              <input id=\"n-strat\" type=\"number\" class=\"form-control inputStr\" formControlName=\"indicator_n_strat\" >\n            </div>\n            <div class=\"form-group col-sm-12\">\n              <label for=\"pairs\">Scambio</label>\n              <select  formControlName=\"indicator_pair\"  class=\"form-control inputStr\" id=\"pairs\" (ngModelChange)=\"loadPrice()\" >\n                <option value=\"\"></option>\n                <option *ngFor=\"let p of pairs\" [value]=\"p.name\">{{p.name}}</option>\n              </select>\n            </div>\n            <div class=\"form-group col-sm-12\">\n              <label for=\"s-price\">Prezzo di partenza</label>\n              <input id=\"s-price\" type=\"number\" class=\"form-control inputStr\" formControlName=\"indicator_price\" >\n            </div>\n            <div class=\"form-group col-sm-6\">\n              <label for=\"satoshi\">Salto in Satoshi</label>\n              <select id=\"satoshi\" class=\"form-control inputStr\" formControlName=\"indicator_satoshi\" >\n                <option value=\"1\" >1</option>\n                <option value=\"2\" >2</option>\n                <option value=\"3\" >3</option>\n                <option value=\"4\" >4</option>\n              </select>\n            </div>\n            <div class=\"form-group col-sm-6\">\n              <label for=\"timeframe\">Timeframe</label>\n              <select id=\"timeframe\" class=\"form-control inputStr\" formControlName=\"indicator_timeframe\" >\n                <option value=\"1h\" >1h</option>\n                <option value=\"1d\" >1d</option>\n              </select>\n            </div>\n            <div class=\"col-sm-6 form-group\">\n              <label for=\"fromD\">Da</label>\n              <input [minDate]=\"minDates\" [maxDate]=\"toDay\"  class=\"form-control inputStr\" id=\"fromD\" name=\"fromD\" ngbDatepicker #fromD=\"ngbDatepicker\" (keydown.enter)=\"fromD.toggle()\" (click)=\"fromD.open()\" formControlName=\"indicator_from\" >\n            </div>\n            <div class=\"col-sm-6 form-group\">\n              <label for=\"toD\">A</label>\n              <input [minDate]=\"formValue.indicator_from.value\"  [maxDate]=\"toDay\"  class=\"form-control inputStr\" id=\"toD\" name=\"toD\" ngbDatepicker #toD=\"ngbDatepicker\" (keydown.enter)=\"toD.toggle()\" (click)=\"toD.open()\" formControlName=\"indicator_to\">\n            </div>\n            <div class=\"form-group col-sm-12\">\n              <button  [disabled]=\"indicatorForm.invalid\"  class=\"btn start-btn w-100\">Carica</button>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class=\"col-sm-7\">\n        <div class=\"mt-4 stat-container\">\n          <div class=\"d-flex\">\n            <div class=\"float-left\">\n              <div><label>Saldo iniziale:</label> {{initialCap || (formValue.indicator_cap.value * strategies.length)}}$</div>\n              <div *ngIf=\"finalCap\"><label>Saldo finale:</label> {{finalCap}}$</div>\n              <div *ngIf=\"finalCapTaxed\"><label>Saldo finale Tassato:</label> {{finalCapTaxed}}$</div>\n              <div *ngIf=\"to\">\n                <label>Dal: </label> {{to}}&nbsp;&nbsp;\n              </div>\n            </div>\n            <div class=\"float-right pl-5\" >\n              <div>\n                <div>\n                  <span *ngIf=\"initialCap && finalCap\"><label>Differenza:</label> {{calculateDelta(initialCap, finalCap)}} % </span><span role=\"button\" tabindex=\"0\" class=\"btn start-btn ml-3\" *ngIf=\"candlesticks\" (click)=\"start()\"> Calcola </span>\n                </div>\n                <span *ngIf=\"initialCap && finalCapTaxed\"><label>Differenza Tassata:</label> {{calculateDelta(initialCap, finalCapTaxed)}} % </span>\n              </div>\n              <div *ngIf=\"initialCap && finalCap\">\n                <label>Giri eseguiti: </label> {{totalGiri}}\n              </div>\n              <div *ngIf=\"from\">\n                <label>Al: </label> {{from}}\n              </div>\n            </div>\n          </div>\n\n          <div *ngIf=\"parsedData.length > 0\" class=\"pt-4 d-flex chart-dark text-center\" >\n            <ngx-charts-bar-vertical-2d\n              [results]=\"parsedData\"\n              [xAxisLabel]=\"'Strategie'\"\n              [legendTitle]=\"'Legenda'\"\n              [yAxisLabel]=\"'Buy/Sell'\"\n              [legend]=\"true\"\n              [showXAxisLabel]=\"true\"\n              [showYAxisLabel]=\"true\"\n              [xAxis]=\"true\"\n              [yAxis]=\"true\"\n              [gradient]=\"true\"\n              [style]=\"!color ? 'fill: #ffffff' : 'fill: #000000'\"\n            > </ngx-charts-bar-vertical-2d>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-sm-12 text-center\">\n        <div class=\"mb-3\">\n          <button *ngIf=\"candlesticksShown\" class=\"btn start-btn \" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseCandle\" aria-expanded=\"false\" aria-controls=\"collapseCandle\">\n            Mostra/Nascondi Candele\n          </button>\n        </div>\n        <div id=\"collapseCandle\" class=\"row collapse\">\n          <div class=\"col-sm-1 candlesticks mt-2\" *ngFor=\"let c of candlesticksShown; let i = index \" >\n            <!--          <div>H : {{c.high.slice(-3)}}</div>-->\n            <!--          <div>L : {{c.low.slice(-3)}}</div>-->\n            <img data-toggle=\"tooltip\" data-placement=\"bottom\" src=\"assets/icons/thumbs-up-solid.svg\" alt=\"\" width=\"24\" *ngIf=\"c.close > c.opens\"\n                 [title]=\"'Candela del: ' + c.date + '\\n' + 'High: ' + c.high + '\\n' + 'Low: ' + c.low + '\\n' + 'Open: ' + c.opens + '\\n' + 'Close: ' + c.close\">\n            <img data-toggle=\"tooltip\" data-placement=\"bottom\" src=\"assets/icons/thumbs-down-solid.svg\" alt=\"\" width=\"24\" *ngIf=\"c.close < c.opens\"\n                 [title]=\"'Candela del: ' + c.date + '\\n' + 'High: ' + c.high + '\\n' + 'Low: ' + c.low + '\\n' + 'Open: ' + c.opens + '\\n' + 'Close: ' + c.close\">\n            <img data-toggle=\"tooltip\" data-placement=\"bottom\" src=\"assets/icons/equals-solid.svg\" alt=\"\" width=\"24\" *ngIf=\"c.close === c.opens\"\n                 [title]=\"'Candela del: ' + c.date + '\\n' + 'High: ' + c.high + '\\n' + 'Low: ' + c.low + '\\n' + 'Open: ' + c.opens + '\\n' + 'Close: ' + c.close\">\n            <div>{{c.date}}</div>\n          </div>\n        </div>\n\n      </div>\n\n      <div class=\"col-sm-12\">\n        <table  *ngIf=\"this.strategies\" class=\"table mt-3 project-table\" [ngClass]=\"{'light': color, 'dark': !color}\" >\n          <tr>\n            <th>Buy Price</th>\n            <th>Sell Price</th>\n            <th>N° Buy</th>\n            <th>N° Sell</th>\n            <th>Partenza</th>\n            <th>Totale</th>\n            <th>Totale Tassato</th>\n            <th>Totale $</th>\n            <th>Totale $ Tassato</th>\n          </tr>\n          <tr *ngFor=\"let s of strategies\">\n            <td>{{s.buy.toFixed(8)}}</td>\n            <td>{{s.sell.toFixed(8)}}</td>\n            <td>{{s.countB}}</td>\n            <td>{{s.countS}}</td>\n            <td>{{capitalss}}</td>\n            <td>{{s.total}}</td>\n            <td>{{s.totalTaxed}}</td>\n            <td><span *ngIf=\"s.total\">{{(s.total * priceBtc).toFixed(2)}}</span></td>\n            <td><span *ngIf=\"s.totalTaxed\">{{(s.totalTaxed * priceBtc).toFixed(2)}}</span></td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </div>\n  <div class=\"tab-pane fade\" id=\"monitor\" role=\"tabpanel\" aria-labelledby=\"profile-tab\">\n      <div class=\"row\">\n        <div class=\"col-sm-12\">\n          <div class=\"sub-header\">\n            <button class=\"btn start-btn\" (click)=\"manageAddModal(true)\"> AGGIUNGI  </button>\n            <button class=\"ml-3 btn start-btn\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseList\" aria-expanded=\"false\" aria-controls=\"collapseList\">\n              LISTA\n            </button>\n          </div>\n          <div id=\"collapseList\" class=\"collapse pt-3\" *ngIf=\"monitoredPairs.length\">\n          <h5>Monete monitorate:</h5>\n            <div class=\"pairs-list \"  *ngFor=\"let m of monitoredPairs; let i =index;\">\n              <ul>\n                <li *ngFor=\"let mm of m\">\n                  {{mm.pair}}\n                  <img role=\"button\" tabindex=\"0\" class=\"float-right pt-1 pl-1\" src=\"assets/icons/times-circle-solid.svg\" width=\"16\" (click)=\"manageDeleteModal(true, mm.pair)\" >\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div class=\"pt-3\" *ngIf=\" !monitoredPairs.length\">\n           <h5 >Scegli le tue monete da monitorare !!</h5>\n          </div>\n        </div>\n        <div class=\"col-sm-6\">\n          <div class=\"sub-header\">\n            <h5 class=\"mb-3 text-center\">\n              <img (click)=\"manageTopPerformer(false)\" class=\"float-left\" role=\"button\" [src]=\"this.color ? 'assets/icons/arrow-circle-left-solid.svg' : 'assets/icons/arrow-circle-left-solid-w.svg'\" width=\"20\">\n              Top 10 Monete della Settimana:\n              <img (click)=\"manageTopPerformer(true)\" class=\"float-right\" role=\"button\" [src]=\"this.color ?  'assets/icons/arrow-circle-right-solid.svg' : 'assets/icons/arrow-circle-right-solid-w.svg'\" width=\"20\">\n            </h5>\n          </div>\n          <div *ngIf=\"!topPerformer.length\" class=\"pt-5 text-center\"><h3>Ops! Non hai più risultati</h3></div>\n          <div *ngIf=\"topPerformer.length\" class=\"pt-3 text-center\">\n            <div>\n              <strong>N° Strategie:</strong> {{calculateRecap('str', this.topPerformer)}} -\n              <strong>Investimento:</strong> {{calculateRecap('tot', this.topPerformer, calculateRecap('str', this.topPerformer))}}$ -\n              <strong>Tot Delta Tassato:</strong> {{calculateRecap('delta', this.topPerformer)}}% -\n              <strong>Ricavo Tassato:</strong> {{calculateRecap('taxed', this.topPerformer,calculateRecap('tot', this.topPerformer, calculateRecap('str', this.topPerformer)), calculateRecap('delta', this.topPerformer))}}$\n            </div>\n            <table class=\"project-table table best table-responsive  mt-3\" [ngClass]=\"{'light': color, 'dark': !color}\">\n              <tr>\n                <th></th>\n                <th>Moneta</th>\n                <th>Scenario</th>\n                <th>Apertura</th>\n                <th>Salti</th>\n                <th>Strategie</th>\n                <th>Delta</th>\n                <th>Delta T</th>\n                <th>From</th>\n                <th>To</th>\n              </tr>\n              <tr *ngFor=\"let p of topPerformer; let $index = index;\">\n                <td>\n                  <input class=\"check-dash\" type=\"checkbox\"  (change)=\"addPairtoParse(p, $event)\" id=\"{{'add'+ $index}}\">\n                </td>\n                <td>{{p.pair}} </td>\n                <td class=\"text-center\">{{ parseScenario(p.possible_situation) }}</td>\n                <td>{{p.open.toFixed(8)}}</td>\n                <td>{{p.jumps}}</td>\n                <td>{{p.number_strategies ? p.number_strategies : 10}}</td>\n                <td>{{p.delta}}%</td>\n                <td>{{p.delta_taxed}}%</td>\n                <td>{{formatDate(p.from)}}</td>\n                <td>{{formatDate(p.to)}}</td>\n              </tr>\n            </table>\n\n          </div>\n          <div *ngIf=\"!projections.length\" class=\"pt-3 text-center\">\n            <h5 >Proiezioni non ancora pronte! Aspetta fino a domenica!</h5>\n          </div>\n        </div>\n        <div class=\"col-sm-6\">\n          <div class=\"sub-header custom d-flex space-btwn\">\n            <span class=\"mb-3\" style=\"font-size:20px;\">\n              Riscontro:\n            </span>\n           <span >\n            <label for=\"pcStrategy\">% da Applicare:</label>\n            <input style=\"width: 50px\" class=\"ml-3\" id=\"pcStrategy\" type=\"number\" [(ngModel)]=\"perCentStrategy\">\n            <button class=\"btn start-btn ml-3\" (click)=\"getBestLast()\" >CALCOLA</button>\n           </span>\n          </div>\n          <div *ngIf=\"!bestLast.length && !laddaBest\" class=\"pt-3 text-center\">\n            <h5 >Proiezioni non ancora pronte! Aspetta fino a domenica!</h5>\n          </div>\n            <div class=\"text-center\" *ngIf=\"laddaBest || bestLast.length\">\n\n              <div *ngIf=\"laddaBest\" class=\"spinner-grow spinner-grow-border-xl mt-5\" role=\"status\">\n                <span class=\"sr-only\">Loading...</span>\n              </div>\n              <div *ngIf=\"!laddaBest && bestLast.length\">\n\n                <div class=\"pt-3\">\n                  <strong>N° Strategie:</strong> {{calculateRecap('str', bestLast)}} -\n                  <strong>Investimento:</strong> {{calculateRecap('tot', bestLast, calculateRecap('str', bestLast))}}$ -\n                  <strong>Tot Delta Tassato:</strong> {{calculateRecap('delta', bestLast)}}% -\n                  <strong>Ricavo Tassato:</strong> {{calculateRecap('taxed', bestLast,calculateRecap('tot', bestLast, calculateRecap('str', bestLast)), calculateRecap('delta', bestLast))}}$\n                </div>\n                <table  class=\"project-table table best table-responsive  mt-3\" [ngClass]=\"{'light': color, 'dark': !color}\">\n                  <tr>\n                    <th>Moneta</th>\n                    <th>Scenario</th>\n                    <th>Apertura</th>\n                    <th>Salti</th>\n                    <th>Strategie</th>\n                    <th>Delta</th>\n                    <th>Delta T</th>\n                    <th>From</th>\n                    <th>To</th>\n                  </tr>\n                  <tr *ngFor=\"let p of bestLast\">\n                    <td>{{p.pair}} </td>\n                    <td class=\"text-center\">{{ parseScenario(p.possible_situation) }}</td>\n                    <td>{{p.open.toFixed(8)}}</td>\n                    <td>{{p.jumps}}</td>\n                    <td>{{p.number_strategies ? p.number_strategies : 10}}</td>\n                    <td>{{p.delta}}%</td>\n                    <td>{{p.delta_taxed}}%</td>\n                    <td>{{formatDate(p.from)}}</td>\n                    <td>{{formatDate(p.to)}}</td>\n                  </tr>\n                </table>\n              </div>\n            </div>\n<!--          </div>-->\n        </div>\n        <div class=\"col-sm-12\">\n          <div *ngIf=\"projections.length\">\n            <div class=\"sub-header\">\n              <div class=\"row\">\n                <div class=\"col-sm-12\">\n                  <h3>Storico</h3>\n                </div>\n                <div class=\"col-sm-3\">\n                  <div class=\"form-group\">\n                    <label for=\"moneta\">Moneta :</label>\n                    <select  id=\"moneta\" class=\"inputStr form-control\" [(ngModel)]=\"pairToShown\" (ngModelChange)=\"filtersSelected('pair',pairToShown)\">\n                      <option value=\"all\">Tutti</option>\n                      <option *ngFor=\"let p of pairToShow\">{{p}}</option>\n                    </select>\n                  </div>\n                </div>\n                <div class=\"col-sm-3\">\n                  <label for=\"fromD\">Da</label>\n                  <input [(ngModel)]=\"fromProjection\" (dateSelect)=\"filtersSelected('from', fromProjection)\" [maxDate]=\"toDay\"  class=\"form-control inputStr\" id=\"fromDP\" name=\"fromDP\" ngbDatepicker #fromDP=\"ngbDatepicker\" (keydown.enter)=\"fromDP.toggle()\" (click)=\"fromDP.open()\" >\n                </div>\n                <div class=\"col-sm-3\">\n                  <label for=\"toD\">A</label>\n                  <input [(ngModel)]=\"toProjection\" (dateSelect)=\"filtersSelected('to', toProjection)\" [minDate]=\"\"  [maxDate]=\"toDay\"  class=\"form-control inputStr\" id=\"toDP\" name=\"toDP\" ngbDatepicker #toDP=\"ngbDatepicker\" (keydown.enter)=\"toDP.toggle()\" (click)=\"toDP.open()\" >\n                </div>\n                <div class=\"col-sm-3\">\n                  <label for=\"jumps\">Salti</label>\n                  <select [(ngModel)]=\"salti\"  id=\"jumps\" class=\"inputStr form-control\" (ngModelChange)=\"filtersSelected('jumps', salti)\" >\n                    <option value=\"all\">Tutti</option>\n                    <option value=\"1\">1</option>\n                    <option value=\"2\">2</option>\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            <table class=\"project-table table   mt-3\" [ngClass]=\"{'light': color, 'dark': !color}\">\n              <tr>\n                <th>Moneta</th>\n                <th>Scenario</th>\n                <th>Strategie</th>\n                <th>Apertura</th>\n                <th>Salti</th>\n                <th>Da</th>\n                <th>A</th>\n                <th>Delta</th>\n                <th>Delta Tax</th>\n                <th>Giri</th>\n              </tr>\n              <tr *ngFor=\"let s of filteredProjections; let i =index\">\n                <td *ngIf=\"i < rowToShow\">{{s.pair}}</td>\n                <td *ngIf=\"i < rowToShow\">{{parseScenario(s.possible_situation)}}</td>\n                <td *ngIf=\"i < rowToShow\">{{s.number_strategies ? s.number_strategies : 10}}</td>\n                <td *ngIf=\"i < rowToShow\">{{s.open.toFixed(8)}}</td>\n                <td *ngIf=\"i < rowToShow\">{{s.jumps}}</td>\n                <td *ngIf=\"i < rowToShow\">{{formatDate(s.from)}}</td>\n                <td *ngIf=\"i < rowToShow\">{{formatDate(s.to)}}</td>\n                <td *ngIf=\"i < rowToShow\">{{s.delta}}%</td>\n                <td *ngIf=\"i < rowToShow\">{{s.delta_taxed}}%</td>\n                <td *ngIf=\"i < rowToShow\">{{s.loops}}</td>\n              </tr>\n              <tr *ngIf=\"countProjections > 12\">\n                <td colspan=\"10\">\n                  <button (click)=\"loadRow(true)\" class=\"btn start-btn float-left\" *ngIf=\"countProjections > rowToShow\"> Mostra piu risultati</button>\n                  <button *ngIf=\"rowToShow > 12\" (click)=\"loadRow(false)\" class=\"btn btn-danger float-right\"> Mostra meno risultati</button>\n                </td>\n              </tr>\n            </table>\n          </div>\n          <div class=\"text-center\" *ngIf=\"!projections.length\">\n            <h4>Proiezioni non ancora pronte! Aspetta fino a domenica!</h4>\n          </div>\n        </div>\n      </div>\n  </div>\n</div>\n\n\n<modal #addModal>\n  <div class=\"app-modal-header\">\n    <h3>Aggiungi moneta da Monitorare</h3>\n  </div>\n  <div class=\"app-modal-body text-center\">\n    <div class=\"row\">\n      <div class=\"col-sm-12 form-group\">\n        <label for=\"pairsM\">Scambio</label>\n        <select   class=\"form-control inputStr\" id=\"pairsM\" [(ngModel)]=\"pairM\">\n          <option value=\"\"></option>\n          <option *ngFor=\"let p of pairs\" [value]=\"p.name\">{{p.name}}</option>\n        </select>\n      </div>\n      <div class=\"col-sm-12\">\n        <button class=\"btn start-btn w-100\" (click)=\"setPairs()\"> AGGIUNGI </button>\n      </div>\n\n    </div>\n  </div>\n</modal>\n<modal #removeModal>\n  <div class=\"app-modal-header\">\n    <h3>Rimuovi moneta da Monitorare</h3>\n  </div>\n  <div class=\"app-modal-body text-center\">\n    <div class=\"row\">\n      <div class=\"form-group col-sm-12\">\n        Stai rimuovendo {{pairToRemove}} !!\n      </div>\n      <div class=\"col-sm-12\">\n        <button class=\"btn start-btn w-100\" (click)=\"removePair()\"> RIMUOVI </button>\n      </div>\n\n    </div>\n  </div>\n</modal>\n\n\n","import {AuthService} from '../../../core/services/auth.service';\nimport {CanActivate, Router} from '@angular/router';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class IndicatorsGuard  implements CanActivate{\n  constructor(private authService: AuthService,\n              private router: Router) {}\n\n  canActivate() {\n    if (this.authService.role === 'admin'){\n      return true;\n    } else {\n      return this.router.navigate(['home/dashboard']).then();\n    }\n  }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {AuthService} from '../../../core/services/auth.service';\nimport {ActionService} from '../../../core/services/action.service';\n// import * as console from \"console\";\n\ndeclare var $: any;\n\n@Component({\n  selector: 'settings-component',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.scss'],\n})\nexport class SettingsComponent implements OnInit {\n\n  public newPw: any = '';\n  public confirmPw: any = '';\n  public apKey = '';\n  public apSctKey = '';\n\n  constructor(public authService: AuthService,\n              public actionService: ActionService) {\n\n    // this.apKey = this.authService.apiKey;\n    // this.apSctKey = this.authService.apiSecretKey;\n  }\n\n  ngOnInit() {\n    this.getInfo();\n\n  }\n\n  update(type: string, name: string, pw?: string, apiKey?: string, apiSecret?: any) {\n    let payload;\n    switch (type) {\n      case 'pw':\n        payload = {\n          username: name,\n          password: pw,\n          role: 'admin'\n        };\n        break;\n      case 'key':\n        payload = {\n          username: name,\n          api_key: apiKey,\n          secret_key: apiSecret,\n          role: 'admin'\n        };\n        break;\n      default:\n        return;\n    }\n\n    this.actionService.updateAccount(name, payload).subscribe();\n  }\n\n  getInfo() {\n    this.actionService.getUserInfo().subscribe((data) => {\n      // this.apKey = data.api_key;\n      // this.apSctKey = data.secret_key;\n    });\n  }\n}\n\n","<h1 class=\"sub-header\">Opzioni</h1>\n<div >\n  <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link active\" id=\"home-tab\" data-toggle=\"tab\" href=\"#user\" role=\"tab\" aria-controls=\"user\" aria-selected=\"true\">Utente</a>\n    </li>\n    <li class=\"nav-item\"  *ngIf=\"authService.role === 'admin'\">\n      <a class=\"nav-link\" id=\"profile-tab\" data-toggle=\"tab\" href=\"#account\" role=\"tab\" aria-controls=\"account\" aria-selected=\"false\">Account</a>\n    </li>\n  </ul>\n  <div class=\"tab-content\" id=\"myTabContent\">\n    <div class=\"tab-pane fade show active\" id=\"user\" role=\"tabpanel\" aria-labelledby=\"home-tab\">\n      <h2>Profilo utente</h2>\n      <div class=\"row\">\n          <div class=\"col-sm-3\">Nome utente:</div>\n          <div class=\"col-sm-9 mb-4\"><input type=\"text\" class=\"form-control w-40\" [disabled]=\"true\" [readOnly]=\"true\" [ngModel]=\"authService.user\"></div>\n          <div class=\"col-sm-3\">Nuova  password:</div>\n          <div class=\"col-sm-9  mb-4\"><input class=\"form-control w-40\" [(ngModel)]=\"newPw\" type=\"password\"></div>\n          <div class=\"col-sm-3\">Conferma nuova password:</div>\n          <div class=\"col-sm-9  mb-4\"><input class=\"form-control w-40\" [(ngModel)]=\"confirmPw\" type=\"password\"></div>\n          <div class=\"col-sm-3\"></div>\n          <div class=\"col-sm-9\">\n            <button [disabled]=\"newPw !== confirmPw || newPw === ''  \" class=\"btn start-btn\" (click)=\"update('pw',authService.user , newPw)\">PROCEDI</button>\n          </div>\n\n      </div>\n    </div>\n    <div class=\"tab-pane fade\" id=\"account\" role=\"tabpanel\" aria-labelledby=\"profile-tab\">\n      <h2>Api Key</h2>\n      <div class=\"row\">\n<!--        <div class=\"col-am-12\" *ngIf=\"!apKey.length\"> Inserisci le tue chiavi API per iniziare</div>-->\n        <div class=\"col-sm-3\">Api Key:</div>\n        <div class=\"col-sm-9 mb-4\"><input class=\"w-100 form-control\" type=\"text\"  [ngModel]=\"apKey\"></div>\n        <div class=\"col-sm-3\">Api Secret key:</div>\n        <div class=\"col-sm-9  mb-4\"><input class=\"w-100 form-control\" [(ngModel)]=\"apSctKey\" type=\"text\"></div>\n        <div class=\"col-sm-3\"></div>\n        <div class=\"col-sm-9\">\n          <button [disabled]=\"apKey.length < 15 || apSctKey.length < 15\"  class=\"btn start-btn\" (click)=\"update('key',authService.user ,apKey , apSctKey)\">PROCEDI</button>\n        </div>\n      </div>\n    </div>\n<!--    <div class=\"tab-pane fade\" id=\"settingss\" role=\"tabpanel\" aria-labelledby=\"contact-tab\">-->\n<!--      <h2>Contact</h2>-->\n<!--    </div>-->\n  </div>\n\n</div>\n<!-- /.container -->\n","import {AfterViewChecked, AfterViewInit, ChangeDetectorRef, Component, OnInit, ViewChild} from '@angular/core';\nimport {FormBuilder, FormGroup, ValidatorFn, Validators} from '@angular/forms';\nimport {ModalComponent} from '../../../shared/modal/modal.component';\nimport {AlertService} from '../../../shared/alert/alert.service';\nimport {ActionService} from '../../../core/services/action.service';\nimport {DatePipe} from '@angular/common';\nimport * as _ from 'lodash';\nimport {Options} from '@angular-slider/ngx-slider';\nimport {AuthService} from '../../../core/services/auth.service';\nimport Utils from '../../../shared/Utils';\n\ndeclare var $: any;\n\n@Component({\n  selector: 'strategies-component',\n  templateUrl: './strategies.component.html',\n  styleUrls: ['./strategies.component.scss'],\n  providers: [DatePipe]\n})\nexport class StrategiesComponent implements OnInit, AfterViewChecked, AfterViewInit {\n  public strategiesForm: FormGroup;\n  @ViewChild('confirmModal') confirmModal: ModalComponent;\n  public pairs: any = [];\n  private currentPrice: number;\n  private btcPrice: number;\n  public strategyType = 'single';\n  public isStrPresent: boolean;\n  public options: Options;\n  public optionsStr: Options;\n  public pairSize: any;\n  public strLength = 0;\n  private activeList = Utils.getList();\n  public capitalType = 'btc';\n  public isBtcCapital = true;\n  public availableCapital: any;\n  public minOrder = 0;\n  public orderType = 'cyclic';\n  public isSegmented = false;\n  public role: string;\n  public btcBalance: any;\n  public showMsg = false;\n  public firstCall: any;\n\n  constructor(private fb: FormBuilder,\n              private alert: AlertService,\n              private cdFref: ChangeDetectorRef,\n              private actionService: ActionService,\n              private alertService: AlertService,\n              private authService: AuthService,\n              private datePipe: DatePipe) {\n\n    this.role = this.authService.role;\n    this.strategiesForm = this.fb.group({\n      strategy_name: [''],\n      strategy_pairs: ['', Validators.required],\n      strategy_capital: ['', [Validators.required]],\n      strategy_buy_price: ['', Validators.required],\n      strategy_sell_price: [''],\n      strategy_jumps: [1],\n      strategy_capitalType: ['btc'],\n      strategy_segmented: [false],\n      strategy_orderType: ['cyclic'],\n      strategy_pairs_size: [null],\n      strategy_direction: [''],\n      strategy_size: [''],\n    });\n    this.options = {\n      floor: 2,\n      ceil: 50,\n      step: 1\n    };\n    this.optionsStr = {\n      floor: 0,\n      ceil: 1000,\n      step: 1\n    };\n\n\n  }\n\n  ngOnInit() {\n    this.loadPairs();\n\n    this.actionService.getSpecificPairs('BTCUSDT').subscribe((resp) => {\n      this.btcPrice = resp.price;\n    });\n\n  }\n\n  ngAfterViewInit() {\n\n    this.manageValidators(this.strategyType);\n\n    this.cdFref.detectChanges();\n\n  }\n\n  ngAfterViewChecked() {\n\n    this.btcBalance = this.actionService.balanceBtc;\n  }\n\n  checkInvestedCapital(type: string) {\n    let disabled = false;\n    if (type !== 'btc') {\n      if (this.strategyType === 'single') {\n        if (this.availableCapital < this.minOrder || this.formValue.strategy_capital.value >= this.availableCapital) {\n          disabled = true;\n        }\n      } else {\n        // tslint:disable-next-line:max-line-length\n        if (this.availableCapital < this.minOrder || (this.formValue.strategy_capital.value * this.formValue.strategy_size.value) >= this.availableCapital) {\n          disabled = true;\n        }\n      }\n\n    } else {\n      if (this.strategyType === 'single') {\n        if (this.formValue.strategy_capital.value >= this.btcBalance) {\n          disabled = true;\n        }\n      } else {\n        if ((this.formValue.strategy_capital.value * this.formValue.strategy_size.value) >= this.btcBalance) {\n          disabled = true;\n        }\n      }\n    }\n\n    this.showMsg = disabled;\n    return disabled;\n  }\n\n  manageValidators(str: any) {\n\n    if (str === 'single') {\n      this.strategiesForm.reset();\n      this.formValue.strategy_name.setValidators([Validators.required]);\n      this.formValue.strategy_sell_price.setValidators([Validators.required]);\n      this.formValue.strategy_direction.clearValidators();\n      this.formValue.strategy_size.clearValidators();\n      // this.formValue.strategy_jumps.clearValidators();\n      this.updateFormStatus();\n    } else {\n      this.isStrPresent = false;\n      this.strategiesForm.reset();\n      _.forEach(this.formValue, (s) => {\n        if (s.name !== 'strategy_pairs_size') {\n          s.setValue('');\n        }\n      });\n      this.formValue.strategy_name.clearValidators();\n      this.formValue.strategy_sell_price.clearValidators();\n      this.formValue.strategy_direction.setValidators([Validators.required]);\n      this.formValue.strategy_size.setValidators([Validators.required]);\n      // this.formValue.strategy_jumps.setValidators([Validators.required]);\n      this.updateFormStatus();\n    }\n    this.formValue.strategy_capitalType.setValue('btc');\n    this.formValue.strategy_orderType.setValue('cyclic');\n    this.isBtcCapital = true;\n  }\n\n  updateFormStatus() {\n    this.formValue.strategy_name.updateValueAndValidity();\n    this.formValue.strategy_sell_price.updateValueAndValidity();\n    this.formValue.strategy_direction.updateValueAndValidity();\n    this.formValue.strategy_size.updateValueAndValidity();\n  }\n\n  checkIfExist(name) {\n    if (name !== '/' && name !== '' && this.strategyType === 'single') {\n      this.actionService.checkStrategy(name).subscribe((resp) => {\n        if (_.isString(resp.success)) {\n          this.isStrPresent = false;\n        } else {\n          this.isStrPresent = true;\n          this.alertService.addMessage('danger', 'Nome strategia presente');\n        }\n        return this.isStrPresent;\n      }, (error) => {\n\n      });\n    }\n  }\n\n  loadPairs() {\n    this.actionService.getAllPairs().subscribe((resp) => {\n      this.firstCall = _.cloneDeep(resp);\n      this.setPairs();\n      },\n      (error) => {\n      });\n  }\n\n  setPairs(){\n\n    if (this.formValue.strategy_pairs_size.value === '' || this.formValue.strategy_pairs_size.value === null) {\n      // filter pair by price if needed\n      const result = _.filter(this.firstCall, (o) => {\n        return o.price ;\n      });\n\n      this.pairs = [];\n      _.forEach(this.activeList, (o) => {\n        _.forEach(result, (p) => {\n          if (o.pair === p.name) {\n            this.pairs.push(p);\n          }\n        });\n\n      });\n      this.formValue.strategy_pairs_size.setValue('999');\n      this.strLength = this.pairs.length;\n    } else {\n      // tslint:disable-next-line:max-line-length\n      const pSize = (this.formValue.strategy_pairs_size.value);\n      const value = this.formValue.strategy_pairs_size.value < 100 ? this.formValue.strategy_pairs_size.value < 10 ? '0.0000000' + pSize : '0.000000' + pSize : '0.00000' + pSize;\n      const result2 = _.filter(this.firstCall, (o) => {\n        return o.price <= parseFloat(value);\n      });\n      this.pairs = [];\n      _.forEach(this.activeList, (o) => {\n        _.forEach(result2, (p) => {\n          if (o.pair === p.name) {\n            this.pairs.push(p);\n          }\n        });\n\n      });\n      this.strLength = this.pairs.length;\n    }\n  }\n\n  loadPrices() {\n    const pairs = this.formValue.strategy_pairs.value;\n    if (pairs) {\n      const price = _.find(this.pairs, {name: pairs});\n      this.currentPrice = price.price;\n      const formattedPrice = Math.floor(price.price.toFixed(8));\n      this.formValue.strategy_buy_price.setValue(price.price.toFixed(8));\n      this.formValue.strategy_sell_price.setValue(price.price.toFixed(8));\n      this.formValue.strategy_capitalType.setValue('btc');\n      this.isBtcCapital = true;\n      this.getAvailableBalance(pairs);\n    }\n\n  }\n\n  initializeStrategy() {\n    let quantity;\n    if (this.capitalType === 'btc') {\n      quantity = this.formValue.strategy_capital.value / parseFloat(this.formValue.strategy_buy_price.value);\n    } else {\n      quantity = this.formValue.strategy_capital.value;\n    }\n    const date = new Date();\n    // console.log( parseFloat(this.formValue.strategy_sell_price.value) , this.formValue.strategy_sell_price.value);  : (this.formValue.strategy_capital.value * this.currentPrice).toFixed(8)\n    const payload = {\n      name: this.formValue.strategy_name.value,\n      coin_pair: this.formValue.strategy_pairs.value,\n      capital: this.formValue.strategy_capital.value,\n      quantity: Math.floor(parseFloat(quantity.toFixed(3))),\n      current_capital: this.formValue.strategy_capital.value,\n      current_status: this.capitalType === 'btc' ? 'BUY' : 'SELL',\n      buy_price: parseFloat(this.formValue.strategy_buy_price.value),\n      sell_price: parseFloat(this.formValue.strategy_sell_price.value),\n      current_initial_price: this.currentPrice,\n      date: this.datePipe.transform(date, 'yyyy-MM-dd'),\n      status: this.orderType !== 'single' ? 'ACTIVE' : 'INACTIVE',\n      isBtcCapital: this.capitalType === 'btc',\n      order_type: this.orderType,\n    };\n    if (this.formValue.strategy_segmented.value === true) {\n      const size = (400 / this.btcPrice).toFixed(8);\n      // console.log(payload, size)\n      this.actionService.setStrategySplitted(payload, size).subscribe((resp) => {\n          if (resp) {\n            this.close();\n            this.actionService.getBtcBalance().subscribe();\n            this.alertService.addMessage('success', 'Strategia inizializzata con successo');\n          }\n        },\n        (error) => {\n          this.close();\n        });\n\n    } else {\n      this.actionService.setStrategy(payload).subscribe((resp) => {\n          if (resp) {\n            this.close();\n            this.actionService.getBtcBalance().subscribe();\n            this.alertService.addMessage('success', 'Strategia inizializzata con successo');\n          }\n        },\n        (error) => {\n          this.close();\n        });\n    }\n\n\n  }\n\n  checkSizeOrder(type: string) {\n    if (this.formValue.strategy_capital.value) {\n\n      let result = false;\n\n      if (this.formValue.strategy_capital.value * this.btcPrice > 800 && type === 'btc') {\n        // console.log(this.formValue.strategy_capital.value, this.currentPrice, this.formValue.strategy_capital.value * this.currentPrice);\n        // const val = this.formValue.strategy_capital.value * this.currentPrice;\n        // const pivot = 400 / this.btcPrice;\n        // console.log(val, pivot)\n        result = true;\n      }\n\n      if (type !== 'btc') {\n        const val = this.formValue.strategy_capital.value * this.currentPrice;\n        const pivot = 400 / this.btcPrice;\n        if (val > (2 * pivot)) {\n          result = true;\n        }\n      }\n      return result;\n    }\n  }\n\n  checkSizeAltcoin() {\n    if (this.formValue.strategy_capitalType.value !== 'btc' && this.strategiesForm.valid) {\n      if (this.strategyType !== 'single') {\n        const count = this.availableCapital / this.formValue.strategy_capital.value;\n        // tslint:disable-next-line:max-line-length\n        if (count >= 2 && count >= this.formValue.strategy_size.value && (this.formValue.strategy_capital.value > this.minOrder.toFixed(0))) {\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        // tslint:disable-next-line:max-line-length\n        if (this.formValue.strategy_capital.value > this.availableCapital || (this.formValue.strategy_capital.value < this.minOrder.toFixed(0))) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n    } else if (this.formValue.strategy_capitalType.value === 'btc') {\n      return true;\n    }\n\n  }\n\n  getAvailableBalance(pair) {\n    this.actionService.getSpecificBalance(pair).subscribe((resp) => {\n        this.minOrder = 0.00011 / this.currentPrice;\n        // console.log('min order: ', this.minOrder);\n        if (resp.pair_balance > this.minOrder) {\n          this.availableCapital = parseFloat(resp.pair_balance);\n          this.isBtcCapital = false;\n\n        } else {\n          this.availableCapital = 0;\n          this.isBtcCapital = true;\n        }\n      },\n      (error) => {\n      });\n  }\n\n  initializeStrategies() {\n    let quantity;\n    if (this.isBtcCapital) {\n      quantity = this.formValue.strategy_capital.value / parseFloat(this.formValue.strategy_buy_price.value);\n    } else {\n      quantity = this.formValue.strategy_capital.value;\n    }\n    const payload = {\n      coin_pair: this.formValue.strategy_pairs.value,\n      capital: this.formValue.strategy_capital.value,\n      quantity: Math.round(parseFloat(quantity.toFixed(3))),\n      price: parseFloat(this.formValue.strategy_buy_price.value),\n      current_initial_price: this.currentPrice,\n      n_strategy: this.formValue.strategy_size.value,\n      order: this.formValue.strategy_direction.value,\n      // tslint:disable-next-line:radix\n      jumps: parseInt(this.formValue.strategy_jumps.value),\n      isBtcCapital: this.capitalType === 'btc',\n      order_type: this.orderType\n    };\n    // console.log(payload);\n    if (this.formValue.strategy_segmented.value === true) {\n      // tslint:disable-next-line:max-line-length\n      const size = (400 / this.btcPrice).toFixed(8) ;\n      // console.log(payload, size)\n      this.actionService.setStrategiesSplitted(payload, size).subscribe((resp) => {\n          if (resp) {\n            this.close();\n            this.actionService.getBtcBalance().subscribe();\n            this.alertService.addMessage('success', resp.success);\n          }\n        },\n        (error) => {\n          this.close();\n          this.alertService.addMessage('danger', error.error);\n\n        });\n    } else {\n      this.actionService.setStrategies(payload).subscribe((resp) => {\n          if (resp) {\n            this.close();\n            this.actionService.getBtcBalance().subscribe();\n            this.alertService.addMessage('success', resp.success);\n          }\n        },\n        (error) => {\n          this.close();\n          this.alertService.addMessage('danger', error.error);\n\n        });\n    }\n\n  }\n\n  editStrategy() {\n    this.openConfirmModal();\n\n  }\n\n  openConfirmModal() {\n    if (this.checkSizeAltcoin()) {\n      this.confirmModal.show('modal-lg');\n    } else {\n      this.alertService.addMessage('danger', 'Quantità inserite nell ordine errate!! Controlla il tuo ordine!!');\n    }\n  }\n\n\n  close() {\n    this.confirmModal.dismiss();\n  }\n\n  addFees(value: any) {\n    // console.log(value);\n    const taxed = value + ((value / 100) * 0.1);\n    // console.log('value taxed', taxed);\n    this.formValue.strategy_capital_taxed.setValue(taxed);\n  }\n\n  get formValue() {\n    return this.strategiesForm.controls;\n  }\n\n}\n\n","<h1 class=\"sub-header\">Strategie</h1>\n<div class=\"row\">\n  <div class=\"col-sm-2\">\n    <label  for=\"single-order\">\n      <input value=\"single\" type=\"radio\"  id=\"single-order\" [(ngModel)]=\"strategyType\" (ngModelChange)=\"manageValidators(strategyType)\">\n      Ordine singolo</label>\n  </div>\n  <div class=\"col-sm-3\">\n    <label  for=\"multiple-order\">\n      <input type=\"radio\" value=\"multi\"  id=\"multiple-order\" [(ngModel)]=\"strategyType\" (ngModelChange)=\"manageValidators(strategyType)\">\n      Ordine multiplo</label>\n  </div>\n  <div class=\"col-sm-7\"></div>\n</div>\n  <div class=\"strategies-container \">\n    <form [formGroup]=\"strategiesForm\" (ngSubmit)=\"openConfirmModal()\" novalidate>\n      <div class=\"row\">\n      <div class=\"col-sm-8\">\n        <div class=\"row\">\n          <div class=\"col-sm-3 form-group\" *ngIf=\"strategyType === 'single'\">\n            <label for=\"strategy-name\">Nome:</label>\n          </div>\n          <div class=\"col-sm-9 form-group\" *ngIf=\"strategyType === 'single'\">\n            <input (blur)=\"checkIfExist(formValue.strategy_name.value)\"  formControlName=\"strategy_name\" class=\"form-control\" type=\"text\"  id=\"strategy-name\">\n          </div>\n<!--          <div class=\"col-sm-3 form-group\">-->\n<!--            <label for=\"size_pairs\">Satoshi max:</label>-->\n<!--          </div>-->\n<!--          <div class=\"col-sm-9 form-group custom-slider\">-->\n<!--            <ngx-slider  (ngModelChange)=\"setPairs()\" formControlName=\"strategy_pairs_size\"  id=\"size_pairs\" [options]=\"optionsStr\"></ngx-slider>-->\n<!--          </div>-->\n          <div class=\"col-sm-3 form-group\">\n            <label for=\"select-pairs\">Seleziona scambio: <br>(N° {{strLength}})</label>\n          </div>\n          <div class=\"col-sm-9 form-group\">\n            <!--          <input type=\"checkbox\" formControlName=\"small_cap\"> <span style=\"font-size:14px\"> Small Cap</span>-->\n            <select (ngModelChange)=\"loadPrices()\" formControlName=\"strategy_pairs\" class=\"form-control\" id=\"select-pairs\">\n              <option value=\"\"></option>\n              <option *ngFor=\"let p of pairs\" [value]=\"p.name\">{{p.name}}</option>\n            </select>\n          </div>\n          <div class=\"col-sm-3 form-group\" *ngIf=\"strategyType === 'multi'\">\n            <label for=\"select-jumps\">Salti in satoshi:</label>\n          </div>\n          <div class=\"col-sm-9 form-group\" *ngIf=\"strategyType === 'multi'\">\n            <input type=\"number\" formControlName=\"strategy_jumps\" class=\"form-control\" id=\"select-jumps\">\n<!--            <select  formControlName=\"strategy_jumps\" class=\"form-control\" id=\"select-jumps\">-->\n<!--              <option value=\"1\" [selected]=\"true\">1</option>-->\n<!--              <option value=\"2\">2</option>-->\n<!--              <option value=\"3\">3</option>-->\n<!--              <option value=\"4\">4</option>-->\n<!--            </select>-->\n          </div>\n          <div class=\"col-sm-3 form-group\">\n            <label for=\"select-pairs\">Seleziona Capitale:</label>\n          </div>\n          <div class=\"col-sm-9 form-group\">\n            <label  for=\"btc-capital\">\n              <input formControlName=\"strategy_capitalType\"   type=\"radio\" value=\"btc\"  id=\"btc-capital\" [(ngModel)]=\"capitalType\" >\n              BTC</label> &nbsp;&nbsp;\n            <label  for=\"other-capital\" *ngIf=\"!isBtcCapital\" >\n              <input  formControlName=\"strategy_capitalType\"   type=\"radio\" [value]=\"formValue.strategy_pairs.value\"  id=\"other-capital\" [(ngModel)]=\"capitalType\" >\n              {{formValue.strategy_pairs.value ? formValue.strategy_pairs.value.replace('BTC' , '') : 'Choose'}}  - {{availableCapital}} | Ordine minimo: {{minOrder.toFixed(0)}}</label>\n          </div>\n          <div class=\"col-sm-3 form-group\">\n            <label for=\"buy-price\">Capitale {{capitalType != 'btc' ? capitalType.toUpperCase().replace('BTC', ''): 'BTC'}}:<br>(tasse escluse)</label>\n          </div>\n          <div class=\"col-sm-9 form-group\">\n            <input  formControlName=\"strategy_capital\" class=\"form-control inputStr\" type=\"number\" id=\"capital\">\n            <label for=\"cutOrder\" class=\"mt-3\"  *ngIf=\"checkSizeOrder(capitalType) && role === 'admin'\" >\n              <input id=\"cutOrder\" class=\"\" type=\"checkbox\" formControlName=\"strategy_segmented\"> Ordine frammentato (tagli da $400)\n            </label>\n            <div class=\"p-2 alert-danger  mt-1\" style=\"border-radius: 6px\" *ngIf=\"checkInvestedCapital(capitalType)\">Capitale errato</div>\n          </div>\n\n          <div class=\"col-sm-3 form-group\" *ngIf=\"strategyType === 'single'\">\n            <label for=\"select-pairs\">Seleziona Ordine:</label>\n          </div>\n          <div class=\"col-sm-9 form-group\" *ngIf=\"strategyType === 'single'\">\n            <label  for=\"cyclic-order\">\n              <input  [(ngModel)]=\"orderType\" formControlName=\"strategy_orderType\"   type=\"radio\" value=\"cyclic\"  id=\"cyclic-order\" >\n              Ordine Ciclico</label> &nbsp;&nbsp;\n            <label  for=\"single-order\"  *ngIf=\"capitalType != 'btc'\">\n              <input [(ngModel)]=\"orderType\" formControlName=\"strategy_orderType\"  type=\"radio\" value=\"single\"   id=\"one-order\">\n              Ordine Singolo </label>\n          </div>\n          <div class=\"col-sm-3 form-group\" *ngIf=\"orderType === 'cyclic'\">\n            <label for=\"buy-price\">Prezzo<span *ngIf=\"strategyType === 'single'\"> compera</span>:</label>\n          </div>\n          <div class=\"col-sm-9 form-group\" *ngIf=\"orderType === 'cyclic'\">\n            <input formControlName=\"strategy_buy_price\" class=\"form-control inputStr\" type=\"number\" id=\"buy-price\">\n          </div>\n          <div class=\"col-sm-3 form-group\" *ngIf=\"strategyType === 'single'\">\n            <label for=\"sell-price\">Prezzo vendita:</label>\n          </div>\n          <div class=\"col-sm-9 form-group\" *ngIf=\"strategyType === 'single'\">\n            <input formControlName=\"strategy_sell_price\" class=\"form-control inputStr\" type=\"number\" id=\"sell-price\">\n          </div>\n          <div class=\"col-sm-3 form-group\" *ngIf=\"strategyType === 'multi'\">\n            <label for=\"direction\">Direzione:</label>\n          </div>\n          <div class=\"col-sm-9 form-group\" *ngIf=\"strategyType === 'multi'\">\n            <select formControlName=\"strategy_direction\" class=\"form-control inputStr\" type=\"number\" id=\"direction\">\n              <option value=\"up\">Crescente</option>\n              <option value=\"down\">Decrescente</option>\n            </select>\n          </div>\n          <div class=\"col-sm-3 form-group\" *ngIf=\"strategyType === 'multi'\">\n            <label for=\"sell-price\">Numero ordini:</label>\n          </div>\n          <div class=\"col-sm-9 form-group custom-slider\" *ngIf=\"strategyType === 'multi'\">\n            <ngx-slider formControlName=\"strategy_size\" [options]=\"options\"></ngx-slider>\n          </div>\n          <div class=\"col-sm-3 form-group\">\n          </div>\n          <div class=\"col-sm-9 form-group\">\n            <button [disabled]=\"strategiesForm.invalid || isStrPresent || checkInvestedCapital(capitalType)\" class=\"btn start-btn float-right\" >AVVIA</button>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-sm-4\">\n\n      </div>\n      </div>\n    </form>\n\n  </div>\n\n<modal #confirmModal>\n  <div class=\"app-modal-header\">\n    <h3>Conferma azione</h3>\n  </div>\n  <div class=\"app-modal-body text-center\">\n    <p>Stai inizializzando \"{{strategyType === 'single' ? formValue.strategy_name.value : 'un ordine Multiplo'}}\" con i seguenti settaggi:</p>\n    <p>Scambio: {{formValue.strategy_pairs.value}}</p>\n    <p>Prezzo di compera: {{formValue.strategy_buy_price.value | number: '1.1-8'}} BTC </p>\n    <p *ngIf=\"strategyType === 'single'\">Prezzo di vendita: {{formValue.strategy_sell_price.value | number: '1.1-8'}} BTC </p>\n    <p>Capitale: {{formValue.strategy_capital.value}} {{capitalType === 'btc' ? capitalType.toUpperCase() : capitalType.replace('BTC', '').toUpperCase() }} <span *ngIf=\"strategyType ==='multi'\">per strategia</span></p>\n    <p *ngIf=\"strategyType === 'multi'\">Ordine: {{formValue.strategy_direction.value === 'up' ? 'Crescente' : 'Decrescente'}}</p>\n    <p *ngIf=\"strategyType === 'multi'\">N° Ordini: {{formValue.strategy_size.value}}</p>\n    <h3>CONFERMA</h3>\n    <button data-dismiss=\"modal\" class=\"btn btn-danger float-left\" (click)=\"close()\">DECLINA</button>\n    <button data-dismiss=\"modal\" class=\"btn start-btn float-right\" (click)=\"strategyType === 'single' ? initializeStrategy() : initializeStrategies()\">CONFERMA</button>\n  </div>\n</modal>\n\n","import {FormBuilder, FormGroup} from '@angular/forms';\nimport {Component, OnInit} from '@angular/core';\nimport {AuthService} from '../../../core/services/auth.service';\nimport {ActionService} from '../../../core/services/action.service';\nimport * as _ from 'lodash';\n\ndeclare var $: any;\ndeclare const TradingView: any;\n\n@Component({\n  selector: 'vault-component',\n  templateUrl: './vault.component.html',\n  styleUrls: ['./vault.component.scss'],\n})\nexport class VaultComponent implements OnInit {\n\n  public vaultForm: FormGroup;\n  public macdValue: any;\n  public allPairs: any;\n  public isAccepted = false;\n  public savedData = [];\n  public reload: any;\n\n  constructor(public authService: AuthService,\n              private fb: FormBuilder,\n              public actionService: ActionService) {\n\n    this.vaultForm = this.fb.group({\n      vault_pair: ['BTC'],\n      vault_ex: ['USDT'],\n      vault_timeframe: ['D'],\n      vault_quantity: [0]\n    });\n  }\n\n  ngOnInit() {\n    // this.returnMACD(this.formValue.vault_pair.value, this.formValue.vault_ex.value);\n\n    this.availablePairs();\n    this.reload = setInterval(() => {\n      this.callMACD();\n    }, 10000);\n    // this.showChart('BTC');\n    // this.checkedPair('BTC');\n  }\n\n  checkedPair(pair: string, ex: string, tf: string) {\n    this.showChart(pair, ex, tf);\n    // TODO calculate value $ and show msg if not ok otherwise show input\n    this.actionService.getMoneyPrice(pair, ex).subscribe(resp => {\n      // @ts-ignore\n      const price = parseFloat(Object.values(resp.price)[0]);\n      // check min available 10$\n      let qty = _.filter(this.allPairs, (o) => {\n        return o.pair === pair;\n      });\n\n      qty = parseFloat(qty[0].available);\n      const btcP = this.actionService.priceBtc;\n      // @ts-ignore\n      const totVal = (price * qty);\n      const min = ex === 'USDT' ? 10 : 10 / btcP;\n      // console.log(totValDollar, 'min', min)\n      if (totVal > min) {\n        this.isAccepted = true;\n        this.formValue.vault_quantity.setValue(qty);\n      } else {\n        this.isAccepted = false;\n        this.formValue.vault_quantity.setValue(0);\n      }\n    });\n\n  }\n\n  availablePairs() {\n    this.actionService.getAllBalances().subscribe(resp => {\n      // console.log(resp)\n      this.allPairs = resp;\n      this.checkedPair('BTC', 'USDT', 'D');\n      this.actionService.getBtcPrice().subscribe();\n      this.savedData = JSON.parse(localStorage.getItem('vaultData')) === null ? [] : JSON.parse(localStorage.getItem('vaultData'));\n    });\n  }\n\n  returnMACD(pair: any) {\n    this.actionService.getMACD(pair, '1d').subscribe(resp => {\n      // console.log(resp);\n      this.macdValue = _.last(resp);\n  //    console.log(this.macdValue);\n    });\n  }\n\n  showChart(pair: string, ex: string, tf: string) {\n    new TradingView.widget(\n      {\n        autosize: true,\n        symbol: 'BINANCE:' + pair + ex,\n        interval: tf,\n        timezone: 'Etc/UTC',\n        theme: 'dark',\n        style: '1',\n        locale: 'it',\n        toolbar_bg: '#f1f3f6',\n        enable_publishing: false,\n        allow_symbol_change: true,\n        studies: [\n          'MACD@tv-basicstudies'\n        ],\n        container_id: 'mappa'\n      }\n    );\n  }\n\n  get formValue() {\n    return this.vaultForm.controls;\n  }\n\n  setData() {\n\n    this.savedData.push({\n      id: this.savedData.length + 1,\n      initial_qty: this.formValue.vault_quantity.value,\n      pair: this.formValue.vault_pair.value + this.formValue.vault_ex.value,\n      timeframe: this.formValue.vault_timeframe.value,\n      status: true,\n      tmpMoney: 0,\n      updated_qty: this.formValue.vault_quantity.value,\n      increment: 0\n    });\n\n    localStorage.setItem('vaultData', JSON.stringify(this.savedData));\n    // console.log('appena salvato', this.savedData)\n  }\n\n  removePair(id: string) {\n    this.savedData = _.remove(this.savedData, (n) => {\n      return n.id !== id;\n    });\n  }\n\n\n  callMACD() {\n    _.forEach(this.savedData, (d) => {\n\n      this.returnMACD(d.pair);\n      // console.log(this.macdValue);\n\n    });\n  }\n}\n\n","<div class=\"sub-header\">\n  <div class=\"h1\">Vault  </div>\n</div>\n<div  class=\"row\">\n  <div class=\"col-sm-12 mb-2 mt-2\">\n    <form class=\"container\" [formGroup]=\"vaultForm\" (ngSubmit)=\"setData()\" novalidate>\n        <div class=\"form-group d-inline-flex\">\n          <label for=\"pair\">Moneta</label>\n          <select (ngModelChange)=\"checkedPair(formValue.vault_pair.value, formValue.vault_ex.value, formValue.vault_timeframe.value)\" formControlName=\"vault_pair\" class=\"ml-3 form-control inputStr\" id=\"pair\">\n            <option *ngFor=\"let p of allPairs\" >{{p.pair}}</option>\n          </select>\n          <span style=\"font-size:30px\" class=\"ml-2 mr-2\">/</span>\n          <select (ngModelChange)=\"checkedPair(formValue.vault_pair.value, formValue.vault_ex.value, formValue.vault_timeframe.value)\" formControlName=\"vault_ex\" class=\"form-control inputStr\">\n            <option value=\"BTC\">BTC</option>\n            <option value=\"USDT\">USDT</option>\n          </select>\n          <label for=\"tf\" class=\"ml-2 mr-2\"> TimeFrame</label>\n          <select id=\"tf\" formControlName=\"vault_timeframe\" class=\"form-control inputStr\" (ngModelChange)=\"checkedPair(formValue.vault_pair.value, formValue.vault_ex.value, formValue.vault_timeframe.value)\">\n            <option value=\"60\">1h</option>\n            <option value=\"240\">4h</option>\n            <option value=\"D\">Day</option>\n          </select>\n        </div>\n      <div class=\"ml-5 form-group d-inline-flex\" *ngIf=\"isAccepted\">\n          <label for=\"qty\">Quantity</label>\n          <input formControlName=\"vault_quantity\" type=\"number\" class=\"form-control inputStr ml-5\" id=\"qty\">\n        </div>\n      <div class=\"ml-5 form-group d-inline-flex\" *ngIf=\"isAccepted\">\n        <button class=\"btn start-btn float-right\"> AVVIA</button>\n      </div>\n      <div class=\"ml-5 form-group d-inline-flex\" *ngIf=\"!isAccepted\">\n          <p>Credito insufficente per investire !!!</p>\n           </div>\n    </form>\n  </div>\n  <div class=\"col-sm-12\">\n    <div class=\"container tradingview-widget-container\" >\n      <div style=\"height: 500px\" id=\"mappa\"></div>\n    </div>\n<!--    <div class=\"spinner-border\" role=\"status\">-->\n<!--      <span class=\"sr-only\">Loading...</span>-->\n<!--    </div>-->\n  </div>\n  <div class=\"col-sm-12 mt-5\">\n    <table class=\"table\" style=\"color:white\">\n      <tr>\n        <th>Moneta</th>\n        <th>Initial qty</th>\n        <th>Updated qty</th>\n        <th>Money tmp</th>\n        <th>Status</th>\n        <th>Increment</th>\n        <th></th>\n      </tr>\n      <tr *ngFor=\"let d of savedData\">\n        <td>{{d.pair}}</td>\n        <td>{{d.initial_qty}}</td>\n        <td>{{d.updated_qty}}</td>\n        <td>{{d.tmpMoney}}</td>\n        <td>{{d.status}}</td>\n        <td>{{d.increment}}%</td>\n        <td><button (click)=\"removePair(d.id)\" class=\"btn btn-danger\">Cancella</button></td>\n      </tr>\n    </table>\n  </div>\n<!--  <div class=\"col-sm-4 invested mt-4\" *ngFor=\"let d of savedData; let $i = index;\">-->\n<!--    <div class=\"progress blue\" id=\"{{$i}}\">-->\n<!--                <span class=\"progress-left\">-->\n<!--                  <span class=\"progress-bar\"></span>-->\n<!--                </span>-->\n<!--      <span class=\"progress-right\">-->\n<!--                    <span class=\"progress-bar\"></span>-->\n<!--                </span>-->\n<!--      <div class=\"progress-value\">{{d.increment}}% <span style=\"font-size:14px\">{{d.pair}}</span></div>-->\n<!--    </div>-->\n<!--  </div>-->\n</div>\n","import * as _ from 'lodash';\n\nexport default class Utils {\n\n  static getList(){\n    return [\n      {pair: 'BNBBTC'},\n      {pair: 'APEBTC'},\n      {pair: 'NULSBTC'},\n      {pair: 'NEOBTC'},\n      {pair: 'LINKBTC'},\n      {pair: 'IOTABTC'},\n      {pair: 'ETCBTC'},\n      {pair: 'KNCBTC'},\n      {pair: 'WTCBTC'},\n      {pair: 'SNGLSBTC'},\n      {pair: 'GASBTC'},\n      {pair: 'SNMBTC'},\n      {pair: 'BQXBTC'},\n      {pair: 'QTUMBTC'},\n      {pair: 'LTCBTC'},\n      {pair: 'ETHBTC'},\n      {pair: 'ZRXBTC'},\n      {pair: 'OMGBTC'},\n      {pair: '1INCHBTC'},\n      {pair: 'AAVEBTC'},\n      {pair: 'ACMBTC'},\n      {pair: 'ADABTC'},\n      {pair: 'ADXBTC'},\n      {pair: 'AERGOBTC'},\n      {pair: 'AIONBTC'},\n      {pair: 'AKROBTC'},\n      {pair: 'ALGOBTC'},\n      {pair: 'ALICEBTC'},\n      {pair: 'ALPHABTC'},\n      {pair: 'AMBBTC'},\n      {pair: 'AMPBTC'},\n      {pair: 'ANKRBTC'},\n      {pair: 'APPCBTC'},\n      {pair: 'ARBTC'},\n      {pair: 'ARDRBTC'},\n      {pair: 'ARKBTC'},\n      {pair: 'ARPABTC'},\n      {pair: 'ASRBTC'},\n      {pair: 'ASTBTC'},\n      {pair: 'ATABTC'},\n      {pair: 'ATMBTC'},\n      {pair: 'ATOMBTC'},\n      {pair: 'AUCTIONBTC'},\n      {pair: 'AUDIOBTC'},\n      {pair: 'AUTOBTC'},\n      {pair: 'AVABTC'},\n      {pair: 'AVAXBTC'},\n      {pair: 'AXSBTC'},\n      {pair: 'BADGERBTC'},\n      {pair: 'BAKEBTC'},\n      {pair: 'BANDBTC'},\n      {pair: 'BARBTC'},\n      {pair: 'BATBTC'},\n      {pair: 'BCDBTC'},\n      {pair: 'BCHBTC'},\n      {pair: 'BEAMBTC'},\n      {pair: 'BELBTC'},\n      {pair: 'BLZBTC'},\n      {pair: 'BNTBTC'},\n      {pair: 'BRDBTC'},\n      {pair: 'BTCSTBTC'},\n      {pair: 'BTGBTC'},\n      {pair: 'BTSBTC'},\n      {pair: 'BZRXBTC'},\n      {pair: 'CAKEBTC'},\n      {pair: 'CDTBTC'},\n      {pair: 'CELOBTC'},\n      {pair: 'CELRBTC'},\n      {pair: 'CFXBTC'},\n      {pair: 'CHRBTC'},\n      {pair: 'CHZBTC'},\n      {pair: 'CKBBTC'},\n      {pair: 'CNDBTC'},\n      {pair: 'COMPBTC'},\n      {pair: 'COSBTC'},\n      {pair: 'COTIBTC'},\n      {pair: 'CRVBTC'},\n      {pair: 'CTKBTC'},\n      {pair: 'CTSIBTC'},\n      {pair: 'CTXCBTC'},\n      {pair: 'CVCBTC'},\n      {pair: 'DASHBTC'},\n      {pair: 'DATABTC'},\n      {pair: 'DCRBTC'},\n      {pair: 'DEGOBTC'},\n      {pair: 'DIABTC'},\n      {pair: 'DLTBTC'},\n      {pair: 'DNTBTC'},\n      {pair: 'DOCKBTC'},\n      {pair: 'DODOBTC'},\n      {pair: 'DOGEBTC'},\n      {pair: 'DOTBTC'},\n      {pair: 'DREPBTC'},\n      {pair: 'DUSKBTC'},\n      {pair: 'EGLDBTC'},\n      {pair: 'ELFBTC'},\n      {pair: 'ENJBTC'},\n      {pair: 'EOSBTC'},\n      {pair: 'EPSBTC'},\n      {pair: 'EVXBTC'},\n      {pair: 'EZBTC'},\n      {pair: 'FETBTC'},\n      {pair: 'FILBTC'},\n      {pair: 'FIOBTC'},\n      {pair: 'FIROBTC'},\n      {pair: 'FISBTC'},\n      {pair: 'FLMBTC'},\n      {pair: 'FORBTC'},\n      {pair: 'FORTHBTC'},\n      {pair: 'FRONTBTC'},\n      {pair: 'FTMBTC'},\n      {pair: 'FTTBTC'},\n      {pair: 'FUNBTC'},\n      {pair: 'FXSBTC'},\n      {pair: 'GLMBTC'},\n      {pair: 'GOBTC'},\n      {pair: 'GRSBTC'},\n      {pair: 'GRTBTC'},\n      {pair: 'GTCBTC'},\n      {pair: 'GTOBTC'},\n      {pair: 'GVTBTC'},\n      {pair: 'GXSBTC'},\n      {pair: 'HARDBTC'},\n      {pair: 'HBARBTC'},\n      {pair: 'HIVEBTC'},\n      {pair: 'HNTBTC'},\n      {pair: 'ICPBTC'},\n      {pair: 'ICXBTC'},\n      {pair: 'IDEXBTC'},\n      {pair: 'INJBTC'},\n      {pair: 'IOSTBTC'},\n      {pair: 'IOTXBTC'},\n      {pair: 'IRISBTC'},\n      {pair: 'JSTBTC'},\n      {pair: 'JASMYBTC'},\n      {pair: 'JUVBTC'},\n      {pair: 'KAVABTC'},\n      {pair: 'KEEPBTC'},\n      {pair: 'KLAYBTC'},\n      {pair: 'KMDBTC'},\n      {pair: 'LINABTC'},\n      {pair: 'LITBTC'},\n      {pair: 'LOOMBTC'},\n      {pair: 'LPTBTC'},\n      {pair: 'LRCBTC'},\n      {pair: 'LSKBTC'},\n      {pair: 'LTOBTC'},\n      {pair: 'LUNABTC'},\n      {pair: 'MANABTC'},\n      {pair: 'MATICBTC'},\n      {pair: 'MDABTC'},\n      {pair: 'MDTBTC'},\n      {pair: 'MDXBTC'},\n      {pair: 'MIRBTC'},\n      {pair: 'MITHBTC'},\n      {pair: 'MKRBTC'},\n      {pair: 'MTHBTC'},\n      {pair: 'MTLBTC'},\n      {pair: 'NANOBTC'},\n      {pair: 'NASBTC'},\n      {pair: 'NAVBTC'},\n      {pair: 'NBSBTC'},\n      {pair: 'NEARBTC'},\n      {pair: 'NEBLBTC'},\n      {pair: 'NKNBTC'},\n      {pair: 'NMRBTC'},\n      {pair: 'NUBTC'},\n      {pair: 'NXSBTC'},\n      {pair: 'OAXBTC'},\n      {pair: 'OCEANBTC'},\n      {pair: 'OGBTC'},\n      {pair: 'OGNBTC'},\n      {pair: 'OMBTC'},\n      {pair: 'ONEBTC'},\n      {pair: 'ONGBTC'},\n      {pair: 'ONTBTC'},\n      {pair: 'ORNBTC'},\n      {pair: 'OXTBTC'},\n      {pair: 'PAXGBTC'},\n      {pair: 'PERLBTC'},\n      {pair: 'PERPBTC'},\n      {pair: 'PHABTC'},\n      {pair: 'PHBBTC'},\n      {pair: 'PIVXBTC'},\n      {pair: 'PNTBTC'},\n      {pair: 'POABTC'},\n      {pair: 'POLSBTC'},\n      {pair: 'POLYBTC'},\n      {pair: 'PONDBTC'},\n      {pair: 'POWRBTC'},\n      {pair: 'PPTBTC'},\n      {pair: 'PSGBTC'},\n      {pair: 'QKCBTC'},\n      {pair: 'QLCBTC'},\n      {pair: 'QSPBTC'},\n      {pair: 'RAMPBTC'},\n      {pair: 'RCNBTC'},\n      {pair: 'RDNBTC'},\n      {pair: 'REEFBTC'},\n      {pair: 'RENBTC'},\n      {pair: 'RENBTCBTC'},\n      {pair: 'REPBTC'},\n      {pair: 'REQBTC'},\n      {pair: 'RIFBTC'},\n      {pair: 'RLCBTC'},\n      {pair: 'ROSEBTC'},\n      {pair: 'RSRBTC'},\n      {pair: 'RUNEBTC'},\n      {pair: 'RVNBTC'},\n      {pair: 'SANDBTC'},\n      {pair: 'SCBTC'},\n      {pair: 'SCRTBTC'},\n      {pair: 'SFPBTC'},\n      {pair: 'SKLBTC'},\n      {pair: 'SKYBTC'},\n      {pair: 'SNTBTC'},\n      {pair: 'SNXBTC'},\n      {pair: 'SOLBTC'},\n      {pair: 'SPELLBTC'},\n      {pair: 'SRMBTC'},\n      {pair: 'STEEMBTC'},\n      {pair: 'STMXBTC'},\n      {pair: 'STORJBTC'},\n      {pair: 'STPTBTC'},\n      {pair: 'STRAXBTC'},\n      {pair: 'STXBTC'},\n      {pair: 'SUPERBTC'},\n      {pair: 'SUSDBTC'},\n      {pair: 'SUSHIBTC'},\n      {pair: 'SXPBTC'},\n      {pair: 'SYSBTC'},\n      {pair: 'TCTBTC'},\n      {pair: 'TFUELBTC'},\n      {pair: 'THETABTC'},\n      {pair: 'TKOBTC'},\n      {pair: 'TLMBTC'},\n      {pair: 'TOMOBTC'},\n      {pair: 'TORNBTC'},\n      {pair: 'TRBBTC'},\n      {pair: 'TROYBTC'},\n      {pair: 'TRUBTC'},\n      {pair: 'TRXBTC'},\n      {pair: 'TVKBTC'},\n      {pair: 'TWTBTC'},\n      {pair: 'UMABTC'},\n      {pair: 'UNFIBTC'},\n      {pair: 'UNIBTC'},\n      {pair: 'UTKBTC'},\n      {pair: 'VETBTC'},\n      {pair: 'VIABTC'},\n      {pair: 'VIBBTC'},\n      {pair: 'VIDTBTC'},\n      {pair: 'VITEBTC'},\n      {pair: 'WABIBTC'},\n      {pair: 'WANBTC'},\n      {pair: 'WAVESBTC'},\n      {pair: 'WBTCBTC'},\n      {pair: 'WINGBTC'},\n      {pair: 'WNXMBTC'},\n      {pair: 'WPRBTC'},\n      {pair: 'WRXBTC'},\n      {pair: 'XEMBTC'},\n      {pair: 'XLMBTC'},\n      {pair: 'XMRBTC'},\n      {pair: 'XRPBTC'},\n      {pair: 'XTZBTC'},\n      {pair: 'XVGBTC'},\n      {pair: 'XVSBTC'},\n      {pair: 'YFIBTC'},\n      {pair: 'YFIIBTC'},\n      {pair: 'YOYOBTC'},\n      {pair: 'ZECBTC'},\n      {pair: 'ZENBTC'},\n      {pair: 'ZILBTC'},\n      {pair: 'DGBBTC'},\n      {pair: 'BALBTC'},\n      {pair: 'ANTBTC'},\n      {pair: 'KSMBTC'},\n      {pair: 'AGIXBTC'}];\n  }\n}\n","import {Component, ElementRef, OnInit, ViewChild} from \"@angular/core\";\nimport {AlertService} from './alert.service';\n\ndeclare var $: any;\n\n@Component({\n  selector: 'alert',\n  templateUrl: 'alert.component.html'\n})\n\nexport class AlertComponent implements OnInit {\n  @ViewChild('alertContainer') el: ElementRef;\n\n  constructor(private alertService: AlertService) {\n  }\n\n  close = (currentAlert: any) => {\n    $(currentAlert).alert('close');\n  }\n\n  ngOnInit() {\n    this.alertService.getMessage().subscribe(alert => {\n      const currentAlert = $(`<div class=\"alert alert-${alert.type} alert-dismissible fade\" role=\"alert\">${alert.message}<button type=\"button\" class=\"close\" data-dismiss=\"alert\" ><span aria-hidden=\"true\">&times;</span></button></div>`);\n      $(this.el.nativeElement).append(currentAlert);\n\n      setTimeout(() => {\n        currentAlert.addClass('show');\n      });\n\n      setTimeout(() => {\n        $(currentAlert).alert('close');\n      }, 15000);\n    });\n\n  }\n}\n","<div id=\"alert_container\" #alertContainer class=\"container\"></div>\n","import {Injectable} from '@angular/core';\nimport {Observable, Subject} from 'rxjs';\n\n\n@Injectable()\nexport class AlertService {\n  private subject = new Subject<any>();\n\n  constructor() {\n  }\n\n  addMessage(type: string, message: string) {\n    this.subject.next({type, message});\n  }\n\n  getMessage(): Observable<any> {\n    return this.subject.asObservable();\n  }\n}\n","import {Injectable, SecurityContext} from '@angular/core';\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {environment} from '../../../environments/environment';\nimport {Observable} from 'rxjs';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport * as _ from 'lodash';\n\n@Injectable()\nexport class APIInterceptor implements HttpInterceptor {\n  private api = environment.api;\n\n\n  constructor(private _sanitazer: DomSanitizer) {\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\n    const escapeHtml = (unsafe) => {\n      return unsafe.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;');\n    };\n\n    let apiReq: HttpRequest<any> = req.clone({url: this.api + req.url});\n\n    if (_.isString(apiReq)) {\n      // @ts-ignore\n      apiReq = this._sanitazer.sanitize(SecurityContext.HTML, escapeHtml(apiReq));\n    }\n    return next.handle(apiReq);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport {AuthService} from '../../core/services/auth.service';\nimport {AlertService} from '../alert/alert.service';\n\n\n@Injectable()\nexport class ErrorInterceptor implements HttpInterceptor {\n  constructor(private authService: AuthService,\n              private alert: AlertService) { }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(request).pipe(catchError(err => {\n      if (err.status === 401) {\n        // auto logout if 401 response returned from api\n        this.authService.logout();\n      }\n\n      const error = err.error;\n      this.alert.addMessage('danger', error.error);\n      return throwError(error);\n    }));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse} from '@angular/common/http';\nimport {AuthService} from '../../core/services/auth.service';\nimport {Observable} from 'rxjs';\nimport {tap} from 'rxjs/operators';\nimport {Router} from '@angular/router';\n\n@Injectable()\nexport class TokenInterceptor implements HttpInterceptor {\n\n  public constructor() {\n  }\n\n  public intercept(req: HttpRequest<any>,\n                   next: HttpHandler): Observable<HttpEvent<any>> {\n\n    const token = localStorage.getItem('token');\n    if (token) {\n      req = req.clone({\n        setHeaders:\n          {\n            Authorization: `Bearer ${token}`\n          }});\n    }\n    return next.handle(req);\n\n  }\n}\n","import {Component, ElementRef, EventEmitter, Output, ViewChild} from '@angular/core';\nimport * as _ from 'lodash';\n\ndeclare var $: any;\n\n// const $ = require('jquery');\n\n@Component({\n  selector: 'modal',\n  templateUrl: 'modal.component.html',\n})\n\nexport class ModalComponent {\n\n  @ViewChild('myModal') myModal: ElementRef;\n  @Output() closed = new EventEmitter<boolean>();\n  private data: any;\n  private openedElement = null;\n\n  constructor() {\n  }\n\n\n  show(optClass?, openItem = null) {\n\n    // open modal using jQuery\n    ($(this.myModal.nativeElement) as any).children().addClass(optClass ? optClass : 'modal-lg').end().modal({\n      backdrop: 'static',\n      keyboard: false\n    });\n\n  }\n\n\n  isVisible(): boolean {\n    return ($(this.myModal.nativeElement) as any).hasClass('show');\n  }\n\n  dismiss() {\n    $(this.myModal.nativeElement as any).modal('hide');\n    $('body').removeClass('modal-open');\n    $('.modal-backdrop').remove();\n    this.closed.emit();\n  }\n\n}\n","<!-- Modal -->\n<div #myModal class=\"modal fade ioboia\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <ng-content select=\".app-modal-header\"></ng-content>\n        <button type=\"button\" class=\"close\" (click)=\"dismiss()\"><span data-dismiss=\"modal\" aria-hidden=\"true\">&times;</span></button>\n      </div>\n      <div class=\"modal-body\">\n        <ng-content select=\".app-modal-body\"></ng-content>\n      </div>\n      <div class=\"modal-footer\">\n        <ng-content select=\".app-modal-footer\"></ng-content>\n      </div>\n    </div>\n  </div>\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  local: true,\n  // api: 'http://127.0.0.1:3000/'\n  // api: 'http://ec2-15-160-240-109.eu-south-1.compute.amazonaws.com:3000/'\n  api: 'http://ec2-15-160-2-192.eu-south-1.compute.amazonaws.com:3000/'\n  // api: 'http://ec2-35-152-51-18.eu-south-1.compute.amazonaws.com:3000/' Multiclienti\n  // OLD ACCOUNT\n  // api: 'http://ec2-15-160-2-188.eu-south-1.compute.amazonaws.com:3000/' --AndreaP\n  // api: 'http://ec2-35-152-50-80.eu-south-1.compute.amazonaws.com:3000/' -- Mattia\n  // api: 'http://ec2-35-152-99-6.eu-south-1.compute.amazonaws.com:3000/' -- LeoNardo Ancellotti\n  // api: 'http://ec2-15-160-23-179.eu-south-1.compute.amazonaws.com:3000/' -- MarcoP\n  // api: 'http://ec2-15-161-58-222.eu-south-1.compute.amazonaws.com:3000/' -- AnnalisaP\n  // api: 'http://ec2-15-161-134-114.eu-south-1.compute.amazonaws.com:3000/' -- CapocciaMarco\n  // api: 'http://ec2-15-161-146-7.eu-south-1.compute.amazonaws.com:3000/' -- AlessiaRoberti\n  // api: 'http://ec2-35-152-51-132.eu-south-1.compute.amazonaws.com:3000/' -- DanieleRotella -50-127\n\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}