<h1 class="sub-header">Strategie</h1>

  <div class="strategies-container ">
    <form [formGroup]="strategiesForm" (ngSubmit)="openConfirmModal()" novalidate>
      <div class="row">
        <div class="col-sm-3 form-group">
          <label for="strategy-name">Nome</label>
        </div>
        <div class="col-sm-9 form-group">
          <input formControlName="strategy_name" class="form-control" type="text"  id="strategy-name">
        </div>
        <div class="col-sm-3 form-group">
          <label for="select-pairs">Seleziona Scambio</label>
        </div>
        <div class="col-sm-9 form-group">
          <select (ngModelChange)="loadPrices()" formControlName="strategy_pairs" class="form-control" id="select-pairs">
            <option value=""></option>
            <option *ngFor="let p of pairs" [value]="p.name">{{p.name}}</option>
          </select>
        </div>
        <div class="col-sm-3 form-group">
          <label for="buy-price">Capitale BTC</label>
        </div>
        <div class="col-sm-9 form-group">
          <input formControlName="strategy_capital" class="form-control inputStr" type="number" id="capital">
        </div>
        <div class="col-sm-3 form-group">
          <label for="buy-price">Buy Price</label>
        </div>
        <div class="col-sm-9 form-group">
          <input formControlName="strategy_buy_price" class="form-control inputStr" type="number" id="buy-price">
        </div>
        <div class="col-sm-3 form-group">
          <label for="sell-price">Sell Price</label>
        </div>
        <div class="col-sm-9 form-group">
          <input formControlName="strategy_sell_price" class="form-control inputStr" type="number" id="sell-price">
        </div>
        <div class="col-sm-3 form-group">
        </div>
        <div class="col-sm-9 form-group">
          <button [disabled]="strategiesForm.invalid" class="btn start-btn float-right" >START</button>
        </div>
      </div>

    </form>

  </div>
  <modal #confirmModal>
    <div class="app-modal-header">
      <h3>Conferma azione</h3>
    </div>
    <div class="app-modal-body text-center">
      <p>Stai inizializzando "{{formValue.strategy_name.value}}" con i seguenti settaggi</p>
      <p>Scambio: {{formValue.strategy_pairs.value}}</p>
      <p>Buy Price: {{formValue.strategy_buy_price.value}} BTC </p>
      <p>Sell Price: {{formValue.strategy_sell_price.value}} BTC </p>
      <p>Capitale: {{formValue.strategy_capital.value}} BTC </p>
      <h3>CONFERMA</h3>
      <button class="btn btn-danger float-left" (click)="close()">DECLINA</button>
      <button class="btn start-btn float-right" (click)="close()">CONFERMA</button>
    </div>
  </modal>

